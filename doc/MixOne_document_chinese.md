# MixOneæ–‡æ¡£ v0.1.0-beta.4

# ç®€ä»‹

MixOneæ˜¯ä¸€ä¸ªNodeè„šæ‰‹æ¶å·¥å…·ï¼ŒåŸºäºViteå®ç°ï¼Œç”¨äºç¼–è¯‘HTML5ã€JavaScriptï¼ŒVueï¼ŒReactç­‰æºä»£ç ï¼Œæ”¯æŒæ‰“åŒ…å¤šHTMLå…¥å£çš„(*BSæ¶æ„*)Webåº”ç”¨å’Œæ‰“åŒ…(*CSæ¶æ„*)æ¡Œé¢ç«¯å®‰è£…åŒ…ã€‚å®ƒåœ¨æ„å»ºæ¡Œé¢ç«¯æ—¶æ˜¯åŸºäºElectronå®ç°ã€‚

MixOneæœ‰è‡ªå·±çš„è¯­æ³•ç³–æ¥è®¿é—®Electronçš„APIå’ŒNodeJSçš„åŠŸèƒ½ï¼Œè¿™ç§è¯­æ³•ç³–å®Œå…¨å¯ä»¥å–ä»£Electronçš„IPCé€šè®¯ä»£ç ä»¥æé«˜å¼€å‘æ•ˆç‡ï¼›å¦å¤–è¿˜å¯é€šè¿‡æ³¨é‡Šæ–¹å¼å°†å®šä¹‰çš„å‡½æ•°å˜ä¸ºä¸»è¿›ç¨‹å‡½æ•°ï¼›è¿˜è®¾è®¡äº†æ›´å¼ºå¤§çš„æ’ä»¶æœºåˆ¶æ¥è®©MixOneåœ¨åŠŸèƒ½æ‰©å±•ä¸Šæœ‰æ— é™å¯èƒ½ã€‚

MixOneç›®å½•ç»“æ„ç²¾ç®€ï¼Œä»¥windowsä½œä¸ºæ ¹çª—å£ç›®å½•ï¼Œæ”¯æŒå¤šçª—å£ç›®å½•åµŒå¥—ï¼Œå¾ˆå¥½çš„è®¾è®¡äº†å¤šçª—å£çš„ç®¡ç†æœºåˆ¶ï¼Œæä¾›çª—å£ç®¡ç†apiã€‚

# å®‰è£…MixOne

## ä¸€ã€æ£€æŸ¥nodeç¯å¢ƒã€‚

è¯·ç¡®ä¿ä½ å·²å®‰è£…nodeï¼Œå¹¶ä¸”ç‰ˆæœ¬ => v20 

æœªå®‰è£…nodeæˆ–nodeç‰ˆæœ¬ä½äº20çš„ï¼Œè¯·åˆ°è¿™é‡Œä¸‹è½½[https://nodejs.org/en/download](https://nodejs.org/en/download) ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨nvmå®‰è£…ã€‚

## äºŒã€è¿è¡Œå®‰è£…MixOneå‘½ä»¤ã€‚

```bash
# å…¨å±€å®‰è£… MixOne CLI
npm install -g mixone

# æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ,å‡ºç°ç‰ˆæœ¬ä¿¡æ¯å³ä¸ºå®‰è£…æˆåŠŸï¼
mixone -v
```

![install-mixone-screenshot.png](install-mixone-screenshot.png)

# å¿«é€Ÿå¼€å§‹

## ä¸€ã€åˆ›å»ºæ–°é¡¹ç›®

```bash
# åˆ›å»ºé¡¹ç›®
mixone create my-mixone-app
cd my-mixone-app

# å®‰è£…ä¾èµ–

npm install
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

æŒ‰ç…§ä¸Šè¿°å‘½ä»¤æ“ä½œä¹‹åï¼Œä½ å°†ä¼šçœ‹åˆ°ä¸€ä¸ªå¯åŠ¨çš„æ¡Œé¢åº”ç”¨ã€‚

![mixone-init-project-screenshot.png](mixone-init-project-screenshot.png)

## äºŒã€åˆ›å»ºç¬¬ä¸€ä¸ªé¡µé¢ã€‚

1. åˆ é™¤windowsä¸‹çš„Index.page.vue(tsx)æ–‡ä»¶ã€‚
2. åˆ›å»ºè‡ªå·±çš„Index.page.vueï¼Œé‡Œé¢åº”è¯¥å…·æœ‰<template><script setup><style scope>ä¸‰ä¸ªæ ‡ç­¾ã€‚
3. åœ¨templateä¸­è¾“å…¥<div class=â€hellocolorâ€>hello world from mixone</div>

è‡³æ­¤ï¼Œä½ å°±åˆ›å»ºäº†ç¬¬ä¸€ä¸ªç•Œé¢ï¼Œå¦‚æ­¤å¾ªç¯ç¬¬2ã€3æ­¥éª¤å°±ä¼šæœ‰æ›´å¤šç•Œé¢ã€‚æ€ä¹ˆè¿›è¡Œè·¯ç”±å¯¼èˆªè®¿é—®è¯·çœ‹åé¢çš„â€œ**è·¯ç”±è·³è½¬åŠæ‰“å¼€æ–°çª—å£**â€ç« èŠ‚ã€‚

å¦‚æœä½ çš„ä½ è¦ç»™classNameä¸ºâ€hellocolorâ€œçš„å…ƒç´ æ·»åŠ é¢œè‰²ï¼Œä½ å¯ä»¥ä½¿ç”¨å†…è”æ ·å¼ï¼Œåœ¨ç‹¬ç«‹æ–‡ä»¶ä¸­åˆ›å»ºæ ·å¼ã€‚æ¯”å¦‚ä½ åœ¨/assets/css/auto_style.cssï¼Œé‚£ä¹ˆè¿™ä¸ªä»¥â€auto_â€å¼€å¤´çš„cssæ–‡ä»¶ä¼šè‡ªåŠ¨å¼•å…¥å†…éƒ¨çš„æ ·å¼å°†ä¼šå¯ç”¨ã€‚

```jsx
/assets/css/auto_style.css
.hellocolor {
	color:red;
}
```

## ä¸‰ã€åˆ›å»ºç¬¬ä¸€ä¸ªçª—å£ç›®å½•ã€‚

1. åœ¨/windows/ç›®å½•ä¸‹åˆ›å»ºsetting-windowæ–‡ä»¶å¤¹ã€‚
2. åœ¨åˆšåˆ›å»ºçš„setting-windowæ–‡ä»¶å¤¹å†…æ–°å»ºä¸€ä¸ªå¿…é¡»é¡µé¢ç»„ä»¶â€œIndex.page.vue(tsx)â€,å†…éƒ¨å†…å®¹ä¸ºâ€œsetting-windowä¸­çš„indexé¡µé¢â€ã€‚

è‡³æ­¤ï¼Œä½ å°±åˆ›å»ºäº†ç¬¬ä¸€ä¸ªçª—å£ç›®å½•ï¼Œå¦‚æ­¤å¾ªç¯ä½ ä¼šåˆ›å»ºæ›´å¤šçš„çª—å£ç›®å½•ã€‚å¦‚æœä½ è¦æ‰“å¼€è¯¥çª—å£ç›®å½•ï¼Œä½ å¯ä»¥**åˆ›å»ºçš„ç¬¬ä¸€ä¸ªé¡µé¢**çš„å®ç°ä¸€ä¸ªæ–¹æ³•å³å¯æ‰“å¼€ï¼š

```html
<template>
		<div>hello world from mixone</div>
</template>
<script setup>
const openSetting = async () => {
	await window.windowManager.openWindow('/setting-window', {
    width: 1200,
    height: 900
  });
}
</script>
<style scope>
</style>
```

è‡³æ­¤ï¼Œä½ å°±æ‰“å¼€äº†ä¸€ä¸ªè®¾ç½®çª—å£ï¼Œmixoneå°±æ“…é•¿è¿™æ ·çš„å¤šçª—å£æ¡Œé¢é¡¹ç›®çš„å¼€å‘ã€‚

## å¦‚ä½•å­¦å¥½ã€ç”¨å¥½MixOneå·¥å…·ï¼Ÿ

å­¦å¥½MixOneï¼Œçœ‹äº†æœ¬æ–‡æ¡£ï¼Œä½ åº”è¯¥å…·å¤‡ä»¥ä¸‹ä¸¤ç‚¹

1. ç¬¬ä¸€æ­¥**éœ€è¦æŒæ¡å¿«é€Ÿå¼€å‘æ¨¡å¼**ï¼šçª—å£ç›®å½•ä¸‹çš„å¯å¿½ç•¥æ–‡ä»¶ä¸è¦åˆ›å»ºï¼Œä½ åªéœ€åˆ›å»ºä»¥â€XXX.page.vue(tsx)â€ç»“å°¾çš„é¡µé¢ç»„ä»¶ï¼Œå³å¯äº§ç”Ÿä»¥â€XXX.pageâ€ä¸ºè·¯ç”±nameå’Œpathçš„è·¯ç”±å®šä¹‰ï¼Œåªéœ€è¦router.push({path:â€XXX.pageâ€})å³å¯ä½¿ç”¨ã€‚
    
    å¿«é€Ÿå¼€å‘çš„æ³¨æ„äº‹é¡¹ï¼š
    
    - ä¸è¦åˆ›å»ºä»»ä½•main.ts(tsx),router.js(ts|tsx)ç­‰æ–‡ä»¶ã€‚
    - åœ¨å¿«é€Ÿå¼€å‘æ¨¡å¼ä¸­èƒ½æ•°é‡è¿ç”¨è¯­æ³•ç³–å’Œæ³¨é‡Šå˜ä¸»è¿›ç¨‹å‡½æ•°ã€‚
    - æ•°é‡è§„åˆ’ä¸åŒç»“æ„çš„çª—å£ç›®å½•è®©é¡¹ç›®ç»“æ„æ›´æ¸…æ™°ã€‚
    - åªæœ‰å…ˆç†Ÿç»ƒä½¿ç”¨å¿«é€Ÿå¼€å‘æ¨¡å¼åï¼Œå†è€ƒè™‘æ˜¾å¼åˆ›å»ºæ–‡ä»¶æ¥å¢å¼ºåŠŸèƒ½ã€‚
    - èƒ½å¤Ÿé€šè¿‡æ‰“åŒ…æ¡Œé¢åº”ç”¨å¹¶å‘å¸ƒï¼ŒæŒæ¡å¸¸ç”¨å‘½ä»¤ã€‚
    - èƒ½å¤Ÿé…ç½®window.jsonæ¥è®©çª—å£å…·å¤‡é»˜è®¤å±æ€§ã€‚
2. ç¬¬äºŒæ­¥è¦å­¦ä¼š**å¼ºå¤§çš„åŠŸèƒ½æ‰©å±•èƒ½åŠ›**ã€‚
    - èƒ½å¤Ÿå¼€å‘è‡ªå·±çš„åŸç”Ÿæ’ä»¶(Plugin JavaScript)ï¼Œç®€ç§°â€œPJSâ€ã€‚
    - èƒ½å¤Ÿå¼€å‘è‡ªå·±çš„é¢„åŠ è½½åŠŸèƒ½ï¼ˆpreload.jsï¼‰,è®©ç•Œé¢æ‰“å¼€å‰å·²ç»å…·å¤‡å†…ç½®çš„åŠŸèƒ½ã€‚
    - èƒ½å¤Ÿå¢åŠ main.ts(tsx)æ¥è‡ªå·±å®‰è£…ç¬¬ä¸‰æ–¹çš„æ’ä»¶,vueæ’ä»¶æˆ–reactæ’ä»¶ã€‚
    

å…³äºç”¨å¥½MixOneå·¥å…·ï¼Œæˆ‘è®¤ä¸ºå…¶æ˜¯æ— é™å¯èƒ½çš„ï¼Œä½œä¸ºå¼€å‘MixOneçš„æˆ‘éƒ½åœ¨æ¢ç´¢å®ƒçš„å„ç§ç”¨é€”ã€‚ä¹Ÿè®¸ä½ å¯¹MixOneçš„ä¸“ç ”ï¼Œä½ èƒ½ç”¨å®ƒåˆ›é€ å‡ºæ›´ç‹¬å…·ç‰¹è‰²çš„é¡¹ç›®ã€‚ä»¥ä¸‹éƒ½æ˜¯ç”¨å¥½Mixå¯çªç ´çš„æ–¹å‘ä½†ä¸é™åˆ¶ï¼š

- åœ¨é¡¹ç›®æ¶æ„æ–¹é¢è®¾è®¡åˆ›æ–°åˆç†çš„é¡¹ç›®ç»“æ„ã€‚
- åœ¨è·¨CS/BSæ¶æ„ä¸Šè§„åˆ’å¥½è‡ªå·±çš„åŠŸèƒ½ã€‚
- åœ¨è·¨å¹³å°æ¡Œé¢ä¸Šæœ‰è‡ªå·±çš„åˆ›æ–°æ–¹æ¡ˆã€‚
- åˆ›é€ å¯åˆ†äº«ç»™ä»–äººå¤ç”¨çš„PJSã€‚
- â€¦â€¦(ä½ çš„åˆ›æ„)

# åŠŸèƒ½ç”¨é€”

å¼€å‘æ¡Œé¢åº”ç”¨ã€‚

å¼€å‘å¤šhtmlå…¥å£çš„SPAç³»ç»Ÿã€‚

å¼€å‘çº¯html5åŸç”Ÿé¡µé¢ã€‚

å¼€å‘åŒæ—¶æ”¯æŒæµè§ˆå™¨å’Œæ¡Œé¢è¿è¡Œå¹¶è·¨å¹³å°çš„åº”ç”¨ã€‚

åŠ©åŠ›AIé¡¹ç›®çš„å¼€å‘è½åœ°ã€‚

å®¹æ˜“å°†åŸæœ‰çš„webåº”ç”¨æ¡Œé¢åŒ–ï¼Œå¢å¼ºåŠŸèƒ½ã€‚

å¸¦ç•Œé¢ç®¡ç†åŠŸèƒ½çš„NodeæœåŠ¡ã€‚

â€¦â€¦

# å·¥å…·çš„åŸç†å’Œæœºåˆ¶

MixOneçš„æ ¸å¿ƒåŸç†æ˜¯å°†è¯­æ³•ç³–è½¬è¯‘è‡³Electronçš„ä¸»è¿›ç¨‹ï¼Œå¹¶åˆ©ç”¨Viteè¿›è¡Œå®æ—¶é¢„è§ˆã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨æ‰“åŒ…æ¡Œé¢åº”ç”¨æ—¶ï¼Œç³»ç»Ÿé‡‡ç”¨file://åè®®è®¿é—®èµ„æºï¼Œè€Œéä¼ ç»Ÿçš„HTTPåè®®ã€‚

**è‡ªåŠ¨è·¯ç”±**æœºåˆ¶æ˜¯MixOneçš„ä¸€é¡¹é‡è¦åŠŸèƒ½ï¼Œé€‚ç”¨äºVueå’ŒReactæ¡†æ¶ã€‚å½“çª—å£ç›®å½•ä¸‹ä¸å­˜åœ¨router.ts(js|tsx|jsx)æ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ¿€æ´»æ­¤åŠŸèƒ½ã€‚å®ƒä¼šæ™ºèƒ½è¯†åˆ«å½“å‰çª—å£ç›®å½•ä¸‹æ‰€æœ‰ä»¥".page.vue"ã€".page.tsx"æˆ–".page.jsx"ç»“å°¾çš„é¡µé¢ç»„ä»¶ï¼Œå¹¶å°†å…¶è‡ªåŠ¨æ•´åˆåˆ°è·¯ç”±é…ç½®ä¸­ï¼Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨æ·»åŠ ã€‚åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œé¡µé¢è·³è½¬æ—¶åªéœ€çœç•¥æ–‡ä»¶åç¼€ï¼ˆ.vueã€.tsxã€.jsxï¼‰ï¼Œç³»ç»Ÿå³å¯è‡ªåŠ¨è¯†åˆ«è·¯ç”±è·¯å¾„ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·å‚é˜…ã€è·¯ç”±è·³è½¬åŠæ‰“å¼€æ–°çª—å£ã€‘ç« èŠ‚ã€‚

**æ‰‹åŠ¨è·¯ç”±**æ¨¡å¼åˆ™æä¾›äº†æ›´é«˜çš„è‡ªå®šä¹‰çµæ´»æ€§ã€‚å½“åœ¨çª—å£ç›®å½•ä¸‹åˆ›å»ºäº†router.ts(tsx)æ–‡ä»¶åï¼Œç³»ç»Ÿå†…ç½®çš„è‡ªåŠ¨è·¯ç”±åŠŸèƒ½å°†ä¼šè¢«è¦†ç›–ï¼Œè½¬è€Œå®Œå…¨éµå¾ªè¯¥è·¯ç”±æ–‡ä»¶çš„é…ç½®è§„åˆ™ã€‚

MixOneè®¾è®¡äº†ä¸€ç³»åˆ—å¯å¿½ç•¥æ–‡ä»¶æœºåˆ¶ï¼Œè¿™äº›æ–‡ä»¶åœ¨é»˜è®¤åŠŸèƒ½èƒ½å¤Ÿæ»¡è¶³éœ€æ±‚çš„æƒ…å†µä¸‹æ— éœ€æ˜¾å¼åˆ›å»ºï¼Œä»…å½“éœ€è¦è‡ªå®šä¹‰æˆ–æ‰©å±•ç‰¹å®šåŠŸèƒ½æ—¶æ‰éœ€åˆ›å»ºã€‚è¿™ç§è®¾è®¡ç†å¿µæå¤§ç®€åŒ–äº†å¼€å‘æµç¨‹ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚

æ¡†æ¶é›†æˆæ–¹é¢ï¼ŒMixOneä¸ºä¸åŒæŠ€æœ¯æ ˆæä¾›äº†å®Œå–„çš„æ”¯æŒï¼šReacté¡¹ç›®ä¸­å·²é¢„ç½®é›†æˆReduxçŠ¶æ€ç®¡ç†ç³»ç»Ÿå’ŒReact Router Webè·¯ç”±æ’ä»¶ï¼›è€ŒVueé¡¹ç›®åˆ™æ ¹æ®ç‰ˆæœ¬ä¸åŒåˆ†åˆ«é›†æˆäº†Vuexï¼ˆVue 2.7ï¼‰æˆ–Piniaï¼ˆVue 3ï¼‰çŠ¶æ€ç®¡ç†å·¥å…·ï¼Œä»¥åŠVue Routerè·¯ç”±ç³»ç»Ÿã€‚

**é¢„åŠ è½½è„šæœ¬æœºåˆ¶**æ˜¯MixOneçš„å¦ä¸€æ ¸å¿ƒç‰¹æ€§ã€‚å½“çª—å£ç›®å½•ä¸‹ä¸å­˜åœ¨preload.jsæ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿä¼šåœ¨ç¼–è¯‘é˜¶æ®µè‡ªåŠ¨ç”ŸæˆåŒ…å«é»˜è®¤å†…å®¹çš„é¢„åŠ è½½è„šæœ¬ã€‚è‹¥çª—å£ç›®å½•ä¸‹å·²æœ‰preload.jsæ–‡ä»¶ï¼Œç³»ç»Ÿä¼šå°†å…¶å†…å®¹é™„åŠ åˆ°é»˜è®¤é¢„åŠ è½½å†…å®¹ä¹‹åï¼Œä½†éœ€æ³¨æ„æŸäº›å‘½åç©ºé—´å·²è¢«ç³»ç»Ÿå ç”¨ï¼Œå¼€å‘è€…ä¸åº”é‡å¤ä½¿ç”¨ä»¥é¿å…å†²çªã€‚å¦å¤–ï¼Œè‹¥é¡¹ç›®æ ¹ç›®å½•å­˜åœ¨preload.jsæ–‡ä»¶ï¼ŒMixOneä¼šæ™ºèƒ½åœ°å°†å…¶å†…å®¹è¿½åŠ åˆ°æ¯ä¸ªçª—å£ç›®å½•çš„é¢„åŠ è½½è„šæœ¬ä¸­ï¼Œå®ç°ç±»ä¼¼"ä»£ç å¤ç”¨"çš„æ•ˆæœã€‚

**çƒ­æ›´æ–°æœºåˆ¶**æ˜¯æå‡å¼€å‘ä½“éªŒçš„å…³é”®åŠŸèƒ½ã€‚å½“å¼€å‘è€…ä¿®æ”¹é™¤mainç›®å½•å¤–çš„ä»»ä½•æ–‡ä»¶æ—¶ï¼Œç•Œé¢ä¼šå®æ—¶åæ˜ è¿™äº›å˜åŒ–ã€‚å¯¹äºmainç›®å½•ä¸­ä»¥fn.jsç»“å°¾çš„åŸç”Ÿæ’ä»¶æ–‡ä»¶ï¼Œä¿®æ”¹ååŒæ ·æ”¯æŒè¿›ç¨‹çº§çƒ­æ›´æ–°ã€‚è‹¥ä¿®æ”¹äº†main.jsä¸»æ–‡ä»¶æœ¬èº«ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é‡å¯æ•´ä¸ªåº”ç”¨ä»¥ç¡®ä¿å˜æ›´ç”Ÿæ•ˆã€‚

**è‡ªåŠ¨åŠ è½½æ–‡ä»¶æœºåˆ¶ï¼š**å½“ä½ åœ¨/assetsç›®å½•ä¸­ä»¥â€auto_â€œå¼€å¤´å‘½åçš„csså’Œjs,tsx,tsæ–‡ä»¶å°†ä¼šè‡ªåŠ¨å¼•å…¥åˆ°SPAæ¡†æ¶å†…ï¼ŒåŸç”ŸHTML5é¡µé¢æ²¡æœ‰æ­¤æœºåˆ¶ã€‚

# ç›®å½•ç»“æ„

Reactç›®å½•ç»“æ„

```tsx
mixone-react-app/
â”œâ”€â”€ ğŸ“‚ assets/                    # ğŸ¨ å…¨å±€é™æ€èµ„æº
â”‚   â””â”€â”€ ğŸ“„ favicon.ico            # åº”ç”¨å›¾æ ‡
â”œâ”€â”€ ğŸ“‚ components/                # ğŸ§© å…¨å±€ç»„ä»¶åº“
â”‚   â”œâ”€â”€ ğŸ“„ Button.tsx             # æŒ‰é’®ç»„ä»¶
â”‚   â””â”€â”€ ğŸ“„ Dialog.tsx             # å¯¹è¯æ¡†ç»„ä»¶
â”œâ”€â”€ ğŸ“‚ windows/                   # ğŸ–¼çª—å£ç›®å½•ï¼ˆä»¥ -window ç»“å°¾ï¼Œwindowsæ˜¯æ ¹çª—å£ç›®å½•ï¼‰
â”‚   â”œâ”€â”€ ğŸ“„ Index.page.tsx         # ä¸»çª—å£å…¥å£é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“‚ other-window/          # å…¶ä»–çª—å£
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Index.page.tsx     # å…¥å£é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Second.page.tsx    # é¡µé¢ç»„ä»¶ï¼ˆè‡ªåŠ¨è·¯ç”±ï¼‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Second.tsx         # æ™®é€šç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ preload.js         # çª—å£é¢„åŠ è½½è„šæœ¬(å¯é€‰)
â”‚   â”‚   â””â”€â”€ ğŸ“„ window.json        # çª—å£é…ç½®
â”‚   â””â”€â”€ ğŸ“‚ setting-window/        # è®¾ç½®çª—å£
â”‚       â”œâ”€â”€ ğŸ“„ Index.page.tsx     # å…¥å£é¡µé¢ç»„ä»¶
â”‚       â”œâ”€â”€ ğŸ“„ main.tsx            # React å…¥å£ï¼ˆå¯é€‰ï¼‰
â”‚       â”œâ”€â”€ ğŸ“„ App.tsx            # é¡¶å±‚ç»„ä»¶ï¼ˆå¯é€‰ï¼‰
â”‚       â””â”€â”€ ğŸ“„ router.tsx          # è·¯ç”±é…ç½®ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ ğŸ“‚ main/                      # âš¡ ä¸»è¿›ç¨‹ä»£ç 
â”‚   â”œâ”€â”€ ğŸ“„ main.js                # ä¸»è¿›ç¨‹å…¥å£
â”‚   â””â”€â”€ ğŸ“„ *.fn.js                # åŸç”Ÿæ’ä»¶ï¼ˆPJS è®¿é—®ï¼‰
â”œâ”€â”€ ğŸ“‚ utils/                     # ğŸ”§ å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ ğŸ“„ request.tsx             # è¯·æ±‚å·¥å…·
â”‚   â””â”€â”€ ğŸ“„ common.tsx              # é€šç”¨å·¥å…·
â”œâ”€â”€ ğŸ“‚ out/                       # ğŸ“¦ ç¼–è¯‘è¾“å‡º
â””â”€â”€ ğŸ“„ package.json               # é¡¹ç›®é…ç½®
```

Vueç›®å½•ç»“æ„

```tsx
mixone-vue-app/
â”œâ”€â”€ ğŸ“‚ assets/                    # ğŸ¨ å…¨å±€é™æ€èµ„æº
â”‚   â””â”€â”€ ğŸ“„ favicon.ico            # åº”ç”¨å›¾æ ‡
â”œâ”€â”€ ğŸ“‚ components/                # ğŸ§© å…¨å±€ç»„ä»¶åº“
â”‚   â”œâ”€â”€ ğŸ“„ Button.vue             # æŒ‰é’®ç»„ä»¶
â”‚   â””â”€â”€ ğŸ“„ Dialog.vue             # å¯¹è¯æ¡†ç»„ä»¶
â”œâ”€â”€ ğŸ“‚ windows/                   # ğŸ–¼çª—å£ç›®å½•ï¼ˆä»¥ -window ç»“å°¾ï¼Œwindowsæ˜¯**æ ¹çª—å£ç›®å½•**ï¼‰
â”‚   â”œâ”€â”€ ğŸ“„ Index.page.vue         # ä¸»çª—å£å…¥å£é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ ğŸ“‚ other-window/          # å…¶ä»–çª—å£(**çª—å£ç›®å½•**)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Index.page.vue     # å…¥å£é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Second.page.vue    # é¡µé¢ç»„ä»¶ï¼ˆè‡ªåŠ¨è·¯ç”±ï¼‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Second.vue         # æ™®é€šç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ preload.js         # çª—å£é¢„åŠ è½½è„šæœ¬(å¯é€‰)
â”‚   â”‚   â””â”€â”€ ğŸ“„ window.json        # çª—å£é…ç½®
â”‚   â””â”€â”€ ğŸ“‚ setting-window/        # è®¾ç½®çª—å£(**çª—å£ç›®å½•**)
â”‚       â”œâ”€â”€ ğŸ“„ Index.page.vue     # å…¥å£é¡µé¢ç»„ä»¶
â”‚       â”œâ”€â”€ ğŸ“„ main.ts            # Vue å…¥å£ï¼ˆå¯é€‰ï¼‰
â”‚       â”œâ”€â”€ ğŸ“„ App.vue            # é¡¶å±‚ç»„ä»¶ï¼ˆå¯é€‰ï¼‰
â”‚       â””â”€â”€ ğŸ“„ router.js          # è·¯ç”±é…ç½®ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ ğŸ“‚ main/                      # âš¡ ä¸»è¿›ç¨‹ä»£ç 
â”‚   â”œâ”€â”€ ğŸ“„ main.js                # ä¸»è¿›ç¨‹å…¥å£
â”‚   â””â”€â”€ ğŸ“„ *.fn.js                # åŸç”Ÿæ’ä»¶ï¼ˆPJS è®¿é—®ï¼‰
â”œâ”€â”€ ğŸ“‚ utils/                     # ğŸ”§ å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ ğŸ“„ request.js             # è¯·æ±‚å·¥å…·
â”‚   â””â”€â”€ ğŸ“„ common.js              # é€šç”¨å·¥å…·
â”œâ”€â”€ ğŸ“‚ out/                       # ğŸ“¦ ç¼–è¯‘è¾“å‡º
â””â”€â”€ ğŸ“„ package.json               # é¡¹ç›®é…ç½®
```

# å‘½ä»¤è¡Œ

ä½¿ç”¨mixoneå‘½ä»¤åˆ›å»ºçš„é¡¹ç›®ä¼šæœ‰ä¸€ä¸ªpackage.jsonï¼Œå…¶ä¸­scriptså¦‚ä¸‹ï¼š

```tsx
"scripts": {
    "dev": "npm run compile && npm run start:desktop",
    "dev:web": "npm run compile && npm run start:web",
    "compile": "mixone compile",
    "start:desktop": "mixone serve --desktop --watch",
    "start:web": "mixone serve --web --open --watch",
    "build:desktop": "mixone build --desktop",
    "build:web": "mixone build --web",
    "build:win": "npm run compile && npm run build:desktop && mixone package --win",
    "build:mac": "npm run compile && npm run build:desktop && mixone package --mac",
    "build:linux": "npm run compile && npm run build:desktop && mixone package --linux",
    "preview:web": "npm run compile && npm run build:web && mixone preview --start-web",
    "preview:desktop": "npm run compile && npm run build:desktop && mixone preview --start-desktop"
}
```

```tsx
//æ‰“å¼€å¼€å‘æ¨¡å¼ï¼ˆåŒæ—¶å¯åŠ¨æ¡Œé¢å¼€å‘å’ŒWebå¼€å‘æ¨¡å¼ï¼‰
npm run dev
//ä»…æ‰“å¼€Webå¼€å‘æ¨¡å¼
npm run dev:web
//ç¼–è¯‘é¡¹ç›®ï¼Œä½†æ˜¯ä¸ä¼šå¯åŠ¨ä»»ä½•æœåŠ¡ - ä¸æ¨èä½ ä½¿ç”¨
npm run compile
//æ‰“å¼€webæœåŠ¡å¹¶å¯åŠ¨æ¡Œé¢ï¼ˆå‰ææ˜¯å·²ç»ç¼–è¯‘äº†ï¼Œå¦åˆ™å‡ºé—®é¢˜ï¼‰
npm run start:desktop
//æ‰“å¼€webæœåŠ¡ä¸å¯åŠ¨æ¡Œé¢ï¼ˆå‰ææ˜¯å·²ç»ç¼–è¯‘äº†ï¼Œå¦åˆ™å‡ºé—®é¢˜ï¼‰
npm run start:web
//æ‰“åŒ…webäº§ç‰©åˆ°dist/webç›®å½•ï¼Œä½œä¸ºå‘å¸ƒæ–‡ä»¶ã€‚
npm run build:web
//æ‰“åŒ…windowæ¡Œé¢åº”ç”¨çš„exe,å®‰è£…åŒ…æœ€å°ä½“ç§¯æ˜¯61M
npm run build:win
//æ‰“åŒ…macæ¡Œé¢åº”ç”¨çš„dmg
npm run build:mac
//æ‰“åŒ…linuxæ¡Œé¢åº”ç”¨
npm run build:linux
//é¢„è§ˆæ‰“åŒ…åçš„web,æ‰“åŒ…webåˆ°/dist/webç›®å½•åï¼Œå¹¶å¯åŠ¨ä¸€ä¸ªhttpæœåŠ¡ã€‚
npm run preview:web
//é¢„è§ˆæ‰“åŒ…æ¡Œé¢åº”ç”¨ã€‚æ„å»ºæ‰€éœ€æ–‡ä»¶äº§ç‰©ï¼Œå¹¶å¯åŠ¨æ¡Œé¢åº”ç”¨ã€‚ï¼ˆæ²¡æœ‰httpæœåŠ¡ï¼‰
npm run preview:desktop
```

æ³¨æ„ï¼š*å½“å‰MixOneå‘½ä»¤è¿˜ä¸èƒ½åœ¨å‘½ä»¤è¡Œå•ç‹¬ä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™ã€‚*

# çª—å£ç®¡ç†

MixOneæä¾›äº†æ¡Œé¢åº”ç”¨çš„çª—å£ç®¡ç†ç±»ï¼Œæ”¯æŒçª—å£çš„æ‰“å¼€ã€å…³é—­ã€ç»™æŒ‡å®šçª—å£å‘æ¶ˆæ¯ã€ç»™æ‰€æœ‰çª—å£å‘è®¢é˜…æ¶ˆæ¯ç­‰ã€‚

## çª—å£ç±»å‹

- åŒçº§çª—å£
    1. åœ¨mixoneä¸­ï¼Œé€šè¿‡window.windowManager.openWindow(â€™/xxx-window/â€™)æ‰“å¼€çš„çª—å£éƒ½æ˜¯åŒçº§ç›®å½•ï¼Œæ‰“å¼€åŒçº§ç›®å½•åå¯ä»¥å…³æ‰æ¥è·¯çš„çª—å£ã€‚
    2. åŒçº§çª—å£å¯èƒ½åœ¨é¡¹ç›®çš„windowsä¸­çš„æ–‡ä»¶å¤¹å…³ç³»å¯èƒ½æ˜¯çˆ¶å­å…³ç³»ã€‚å†³å®šæ˜¯å¦ä¸ºåŒçº§çª—å£æ˜¯ç”±æ‰“å¼€çš„æ–¹æ³•å†³å®šï¼Œwindow.windowManager.openWindowæ‰“å¼€çš„å°±æ˜¯åŒçº§çª—å£ã€‚
- å­çª—å£
    
    æ¨¡æ€å­çª—å£
    
    é€šè¿‡window.windowManager.openModalWindow(â€™/xxx-window/â€™)æ–¹æ³•æ‰“å¼€çš„å°±æ˜¯æ¨¡æ€å­çª—å£ã€‚æ¨¡æ€å­çª—å£ä¼šé˜»æ­¢ç”¨æˆ·æ“ä½œçˆ¶çª—å£ï¼Œå¿…é¡»å…ˆå…³æ‰æ‰èƒ½æ“ä½œçˆ¶çº§çª—å£ã€‚
    
    æ­£å¸¸å­çª—å£
    
    ç›®å‰æ²¡æœ‰å•ç‹¬çš„æ–¹æ³•æ¥å®ç°å­çª—å£ã€‚
    

## çª—å£ç›®å½•

çª—å£ç›®å½•æ˜¯é€šå¸¸åœ¨Electronæ¡Œé¢åº”ç”¨ä¸­ä½œä¸ºä¸€ä¸ªæ–°çª—å£æ‰“å¼€ï¼Œæœ‰ä¸€ä¸ªç‹¬ç«‹çš„window.jsonä½œä¸ºçª—å£çš„é»˜è®¤é…ç½®ï¼ˆä½¿ç”¨openWindowæ‰“å¼€çª—å£æ—¶å€™é»˜è®¤åŠ è½½è¯¥é…ç½®ï¼‰ã€‚åœ¨æ„å»ºwebåçª—å£ç›®å½•çš„è·¯å¾„ä¹Ÿå°±æ˜¯ä¸€ä¸ªç‰©ç†è·¯å¾„çš„å­˜åœ¨ï¼Œå¯ä»¥æŒ‡å®šå†…éƒ¨çš„htmlè¿›è¡Œè®¿é—®ã€‚

**å®Œæ•´çš„ç›®å½•ç»“æ„å¯¹æ¯”å›¾ï¼š**

| æ–‡ä»¶ | è¯´æ˜ | æ˜¯å¦å¯çœç•¥ |
| --- | --- | --- |
| `Index.page.vue(tsx)` | ğŸ“„ å¤šä¸ªé¡µé¢ç»„ä»¶ | å¿…é¡»æ–‡ä»¶ |
| `*.page.vue(tsx)` | ğŸ“„ å…¶ä»–é¡µé¢ç»„ä»¶ | é¡¹ç›®éœ€è¦æ—¶ä¸å¯çœç•¥ |
| `preload.js` | ğŸ”Œ çª—å£é¢„åŠ è½½è„šæœ¬ | å¯çœç•¥ |
| `main.js(tsx)` | ğŸ”Œ htmlå¼•å…¥çš„å…¥å£è„šæœ¬ | å¯çœç•¥ |
| `App.vue` | ğŸ”Œ å…¨å±€ç»„ä»¶ | å¯çœç•¥ |
| `router.js(tsx)` | ğŸ”Œ è·¯ç”±æ–‡ä»¶ | å¯çœç•¥ |
| `window.json` | âš™ï¸ çª—å£é…ç½® | å¯çœç•¥ |
| `index.html` | ğŸ“„ Vue|Reactå…¥å£é™æ€é¡µé¢ | å¯çœç•¥ |
| `*.html` | ğŸ“„ å…¶ä»–é™æ€é¡µé¢ | é¡¹ç›®éœ€è¦æ—¶ä¸å¯çœç•¥ |

**å„ç§ç²¾ç®€çš„ç›®å½•ç»“æ„ä¸¾ä¾‹ï¼š**

- åªæœ‰ä¸€ä¸ªå¿…æœ‰çš„é¡µé¢ç»„ä»¶ï¼ˆSPAåº”ç”¨çš„æœ€ç²¾ç®€ï¼‰ã€‚

| æ–‡ä»¶ | è¯´æ˜ | æ˜¯å¦å¯çœç•¥ |
| --- | --- | --- |
| `Index.page.vue(tsx)` | ğŸ“„ é»˜è®¤å…¥å£é¡µé¢ç»„ä»¶ | å¿…é¡»æ–‡ä»¶ |
- å¤šä¸ªé¡µé¢ç»„ä»¶å­˜åœ¨ï¼Œè¿˜æœ‰æ™®é€šç»„ä»¶ï¼ˆèƒ½çœç•¥çš„æ–‡ä»¶éƒ½çœç•¥ï¼‰ã€‚

| æ–‡ä»¶ | è¯´æ˜ | æ˜¯å¦å¯çœç•¥ |
| --- | --- | --- |
| `Index.page.vue(tsx)` | ğŸ“„ é»˜è®¤å…¥å£é¡µé¢ç»„ä»¶ | å¿…é¡»æ–‡ä»¶ |
| `About.page.vue(tsx)` | ğŸ“„ æ›´å¤šé¡µé¢ç»„ä»¶ | é¡¹ç›®éœ€è¦ |
| `Service.page.vue(tsx)` | ğŸ“„ æ›´å¤šé¡µé¢ç»„ä»¶ | é¡¹ç›®éœ€è¦ |
| `News.page.vue(tsx)` | ğŸ“„ æ›´å¤šé¡µé¢ç»„ä»¶ | é¡¹ç›®éœ€è¦ |
| `news/Detail.page.vue` | ğŸ“„ ç›®å½•é‡Œçš„é¡µé¢ç»„ä»¶ | é¡¹ç›®éœ€è¦ |
| `GeneralComponent.vue` | æ™®é€šç»„ä»¶ | é¡¹ç›®éœ€è¦ |
- å¤šä¸ªhtmlå…¥å£çš„æƒ…å†µï¼ˆè¿™æ˜¯ä¸€ä¸ªçª—å£ç›®å½•æ˜¯HTML5åŸç”Ÿå¤šé¡µé¢çš„ä¾‹å­ï¼‰

| æ–‡ä»¶ | è¯´æ˜ | æ˜¯å¦å¯çœç•¥ |
| --- | --- | --- |
| `index.html` | ğŸ“„ é»˜è®¤å…¥å£é™æ€htmlæ–‡ä»¶ | å¯çœç•¥ |
| `about.html` | ğŸ“„ å…¬å¸ä»‹ç» | é¡¹ç›®éœ€è¦ |
| `service.html` | ğŸ“„ å…¬å¸æœåŠ¡ | é¡¹ç›®éœ€è¦ |
| `product.html` | ğŸ“„ å…¬å¸äº§å“ | é¡¹ç›®éœ€è¦ |
| `picture.html` | ğŸ“„ å…¬å¸ç›¸å†Œ | é¡¹ç›®éœ€è¦ |
| `news.html` | ğŸ“„ ä¼ä¸šæ–°é—» | é¡¹ç›®éœ€è¦ |
| `news/detail.html` | ğŸ“„ æ–°é—»é˜…è¯» | é¡¹ç›®éœ€è¦ |

**çª—å£ç›®å½•åŠå†…éƒ¨æ–‡ä»¶çš„ç‰¹å¾ï¼š**

1. å‘½åä»¥â€œ-windowâ€ç»“å°¾ã€‚
2. æœ‰ä¸‰ç±»æ–‡ä»¶ï¼š
    - çª—å£å¯å¿½ç•¥æ–‡ä»¶ã€‚ä¸Šé¢æåˆ°çš„`preload.js`ã€`main.js(tsx)` ã€`App.vue` ã€`router.js(tsx)` ã€`window.json` ã€`index.html` è¿™6ä¸ªæ–‡ä»¶æ˜¯çª—å£ç›®å½•ä¸‹å¯ä»¥çœç•¥çš„æ–‡ä»¶ã€‚ä¸€æ—¦åœ¨æºçª—å£ç›®å½•æ˜¾å¼åˆ›å»ºè¿™äº›æ–‡ä»¶ï¼Œåˆ™è¿™äº›æ–‡ä»¶ä¼šæ›¿ä»£é»˜è®¤å†…å®¹è€Œç”Ÿæ•ˆã€‚è¯¦ç»†ç”¨æ³•è¯·çœ‹åé¢çš„â€œçª—å£å¯å¿½ç•¥æ–‡ä»¶â€ç« èŠ‚ã€‚
    - çª—å£é¡¹ç›®æ–‡ä»¶ã€‚
        - æ•´ä¸ªéƒ½æ˜¯Vue|Reactçš„SPAåº”ç”¨ã€‚è¿™ç§æƒ…å†µé¡¹ç›®æ–‡ä»¶éƒ½æ˜¯SPAç»„ä»¶ã€‚
        - çª—å£é‡Œæœ‰å¤šä¸ªHTML5åŸç”Ÿé¡µé¢ã€‚
        - çª—å£é‡Œæ—¢æœ‰SPAåº”ç”¨ã€‚ä¹Ÿæœ‰HTML5åŸç”Ÿé¡µé¢ã€‚ä¸€èˆ¬æ¥è¯´index.htmlæ–‡ä»¶ä½œä¸ºSPAçš„çš„å…¥å£ï¼Œç„¶åé€šè¿‡SPAç»„ä»¶æ¥å®ç°é¡µé¢ã€‚
    - çª—å£å¿…é¡»æ–‡ä»¶ã€‚å¦‚æœæ˜¯SPAåº”ç”¨åˆ™Index.page.vue(tsx)ä¸ºå¿…é¡»æ–‡ä»¶ã€‚å¦‚æœçª—å£æ˜¯é™æ€é¡µé¢é¡¹ç›®ï¼Œåˆ™è‡³å°‘éœ€è¦index.htmlä¸€ä¸ªé¡µé¢ä½œä¸ºé»˜è®¤é¡µé¢ã€‚ç›®å‰ä¸å»ºè®®ä¸€ä¸ªçª—å£ç›®å½•ä¸‹æœ‰å¤šä¸ªHTML5å…¥å£çš„SPAåº”ç”¨ã€‚
3. çª—å£ç›®å½•ä¸­çš„HTML5æ–‡ä»¶åœ¨Build Webä¹‹åä¾æ—§ç”Ÿæˆå¯¹åº”çš„ç›®å½•å’Œæ–‡ä»¶ã€‚
4. æ¡Œé¢ä¸­æ‰“å¼€ä¸€ä¸ªæ–°çª—å£å¯¹åº”æµè§ˆå™¨æ‰“å¼€ä¸€ä¸ªæ–°é¡µé¢ã€‚

ä½ è¿˜æœ‰å…¶ä»–çª—å£ç›®å½•çš„ç»„åˆæ–¹å¼ï¼Ÿ

1. å¦‚æœçª—å£ç›®å½•æ˜¯çº¯HTML5åŸç”Ÿåº”ç”¨ï¼Œé‚£ä¹ˆå®ƒçš„æœ€ç²¾ç®€çš„ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿ
2. å¦‚æœçª—å£æ—¢æœ‰SPAåº”ç”¨ï¼Œåˆæœ‰å…¶ä»–åŸç”ŸHTML5é¡µé¢ã€‚é‚£ä¹ˆæœ‰å“ªäº›å¿…é¡»æ–‡ä»¶ï¼Ÿ
3. å¦‚æœçª—å£ç›®å½•ä¸­çš„HTML5é¡µé¢ä¸Š50ä¸ªï¼Œä½ è¯¥å¦‚ä½•è®¾è®¡ç›®å½•ç»“æ„ï¼Ÿ

## çª—å£å¯å¿½ç•¥æ–‡ä»¶

çª—å£å¯å¿½ç•¥æ–‡ä»¶ä¹‹æ‰€ä»¥æ— éœ€åˆ›å»ºï¼Œæ˜¯ä¸ºäº†è®©å¼€å‘è€…å‡è´Ÿï¼Œåœ¨ä¸å¿…å…³å¿ƒçš„é—®é¢˜ä¸Šäº¤ç»™MinOneå»è§£å†³ã€‚

å½“MixOneçš„é»˜è®¤é…ç½®æ— æ³•æ»¡è¶³åº”ç”¨åœºæ™¯æ—¶ï¼Œå†æŠŠè¿™äº›å¿½ç•¥æ–‡ä»¶æ˜¾å¼åœ°åˆ›å»ºå‡ºæ¥ï¼Œå¯¹å…¶è¿›è¡Œå®šåˆ¶å’Œæ‰©å±•ï¼Œä»¥å¢å¼ºåŠŸèƒ½ï¼Œä½¿ä½ ç”¨MixOneå¼€å‘å‡ºå¼ºå¤§çš„åº”ç”¨ï¼Œä¹Ÿå‡¸æ˜¾å‡ºMixOneçš„æ— é™å¯èƒ½ã€‚

# è·¯ç”±è·³è½¬åŠæ‰“å¼€æ–°çª—å£

ä½¿ç”¨äº†SPAæ¡†æ¶çš„çª—å£ï¼Œä½¿ç”¨å¯¹åº”çš„è·¯ç”±è·³è½¬åŠŸèƒ½æ¥è¿›è¡Œç»„ä»¶é¡µé¢è·³è½¬ã€‚è€Œhtmlæ–‡ä»¶åˆ™éœ€è¦ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿçš„è·¯ç”±ã€‚

## Vueæ¡†æ¶çš„è·¯ç”±å¯¼èˆª

vue-routerä½ å¯ç§»æ­¥åˆ°[https://router.vuejs.org/guide/](https://router.vuejs.org/guide/)å®˜ç½‘è¿›è¡Œé˜…è¯»ï¼Œå¹¶æ²¡æœ‰åŒºåˆ«ã€‚

é€šè¿‡mixone createåˆ›å»ºçš„é¡¹ç›®æ”¯æŒvue2.7å’Œvue3ï¼Œå…¶ä¸­vue2.7ä½¿ç”¨çš„è·¯ç”±ç‰ˆæœ¬æ˜¯v3.6.5ï¼Œè€Œvue3ä½¿ç”¨çš„æ˜¯v4.x.xçš„ç‰ˆæœ¬ã€‚ç¿»é˜…æ–‡æ¡£æ—¶è¯·å¯¹åº”ç‰ˆæœ¬é˜…è¯»ã€‚

åœ¨ä½¿ç”¨è·¯ç”±å¯¼èˆªä¹‹å‰éœ€è¦å…ˆå®šä¹‰è·¯ç”±ï¼Œè€ŒMixOneæœ‰è‡ªåŠ¨é…ç½®å®šä¹‰è·¯ç”±æœºåˆ¶ï¼š

1. çª—å£ç›®å½•ä¸‹çš„router.ts(js)æ–‡ä»¶è¢«å¿½ç•¥ï¼Œé‚£ä¹ˆå°†ä¼šæ£€æµ‹çª—å£ç›®å½•ä¸‹ä»¥.page.vueç»“å°¾çš„é¡µé¢ç»„ä»¶è‡ªåŠ¨ç”Ÿæˆrouter.ts(js)åˆ°ç¼–è¯‘ç›®å½•ã€‚å¦‚æœçª—å£ç›®å½•ä¸‹æœ‰Index.page.vueã€About.page.vueä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ™ä¼šç”Ÿæˆvueé…ç½®çš„è·¯ç”±ï¼Œä¾‹å­å¦‚ä¸‹ï¼š

```jsx
// å¼•å…¥è·¯ç”±
import { createRouter, createWebHashHistory } from "vue-router";

// å®šä¹‰è·¯ç”±
const routes:any = [{
          path: '/About.page',
          name: 'About.page',
          component: () => import('./About.page.vue')
        },
      {
          path: '/',
          name: 'Index',
          component: () => import('./Index.page.vue')
        },
      {
          path: '/Index.page',
          name: 'Index.page',
          component: () => import('./Index.page.vue')
        }]
// åˆ›å»ºè·¯ç”±
const router:any = createRouter({
  history: createWebHashHistory(),
  routes, // è·¯ç”±é…ç½®ç®€å†™å½¢å¼ï¼ŒåŒ routes: routes
});
// å¯¼å‡º router
export default router;
```

ä½¿ç”¨è‡ªåŠ¨é…ç½® çš„è·¯ç”±ï¼š

```html
<RouterLink to="/">Go to Home</RouterLink>
<RouterLink to="/About.page">Go to About</RouterLink>
```

```jsx
router.push({ path: '/' })
router.push({ path: '/About.page' })
```

2. æ‰‹åŠ¨é…ç½®è·¯ç”±ã€‚

éœ€è¦åœ¨çª—å£ç›®å½•ä¸‹æ˜¾å¼åˆ›å»ºrouter.tsæ–‡ä»¶ï¼Œç„¶åæŒ‰ç…§vue-routerå®˜ç½‘è¿›è¡Œå®šä¹‰è·¯ç”±å³å¯ã€‚

**ä¸‹é¢æ˜¯å¸¸ç”¨çš„è·¯ç”±å¯¼èˆªï¼š**

- RouterLinkæ ‡ç­¾ã€‚
    
    ```html
    <RouterLink to="/">Go to Home</RouterLink>
    <RouterLink to="/about">Go to About</RouterLink>
    ```
    
- ç¼–ç¨‹å¼

```jsx
// literal string path
router.push('/users/eduardo')
// object with path
router.push({ path: '/users/eduardo' })

router.push({ path: '/home', replace: true })
// equivalent to
router.replace({ path: '/home' })

router.go(1)
router.back(1)
```

## Reactæ¡†æ¶çš„è·¯ç”±å¯¼èˆª

react-router-webç§»æ­¥è‡³[https://reactrouter.com/7.7.1/home](https://reactrouter.com/7.7.1/home)å®˜ç½‘è¿›è¡Œé˜…è¯»ï¼Œå¹¶æ²¡æœ‰åŒºåˆ«ã€‚

åœ¨ä½¿ç”¨è·¯ç”±å¯¼èˆªä¹‹å‰éœ€è¦å…ˆå®šä¹‰è·¯ç”±ï¼Œè€ŒMixOneæœ‰è‡ªåŠ¨é…ç½®å®šä¹‰è·¯ç”±æœºåˆ¶ï¼š

1. çª—å£ç›®å½•ä¸‹çš„router.tsxæ–‡ä»¶è¢«å¿½ç•¥ï¼Œé‚£ä¹ˆå°†ä¼šæ£€æµ‹çª—å£ç›®å½•ä¸‹ä»¥.page.tsxç»“å°¾çš„é¡µé¢ç»„ä»¶è‡ªåŠ¨ç”Ÿæˆrouter.tsxåˆ°ç¼–è¯‘ç›®å½•ã€‚å¦‚æœçª—å£ç›®å½•ä¸‹æœ‰Index.page.tsxã€About.page.tsxä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ™ä¼šç”Ÿæˆreacté…ç½®çš„å£°æ˜å¼è·¯ç”±ï¼Œä¾‹å­å¦‚ä¸‹ï¼š

```tsx
// @ts-nocheck
import React from 'react';
import { Route,Routes } from 'react-router-dom';
import AboutPage from './About.page';
import IndexPage from './Index.page';
const AppRoutes: React.FC = () => (
  <Routes>
    <Route path="/About.page" element={<AboutPage />} />
    <Route path="/" element={<IndexPage />} />
    <Route path="/Index.page" element={<IndexPage />} />
  </Routes>
);

export default AppRoutes;
```

ä½¿ç”¨è‡ªåŠ¨é…ç½®çš„è·¯ç”±

```tsx
<Link to="/About.page">Go to About</Link>
```

2. æ‰‹åŠ¨é…ç½®è·¯ç”±ã€‚å¦‚æœä½ è§‰å¾—è‡ªåŠ¨è·¯ç”±æœºåˆ¶æ— æ³•æ»¡è¶³ä½ ï¼Œå¯ä»¥æ˜¾å¼åœ°åˆ›å»ºrouter.tsxæ–‡ä»¶ï¼Œå¹¶æŒ‰ç…§è‡ªåŠ¨è·¯ç”±çš„ç”Ÿæˆçš„è§„èŒƒå»è‡ªå·±å¼•å…¥é¡µé¢ç»„ä»¶å’Œå®šä¹‰è·¯ç”±ã€‚

ä»¥ä¸‹æ˜¯å¸¸ç”¨çš„**Declarative Mode**è·¯ç”±å®šä¹‰å’Œå¯¼èˆªã€‚

```jsx
{/*æ— åˆ·æ–°æ ‡ç­¾ï¼Œaæ ‡ç­¾ä¼šåˆ·æ–°é¡µé¢å¯¼è‡´é¡µé¢çŠ¶æ€æ¶ˆå¤±*/}
<Link to="/about">å»å…³äºé¡µ</Link>
<Link to="/user/123">å»ç”¨æˆ·123çš„è¯¦æƒ…é¡µ</Link>
<Link to="/products/new">å»æ–°å¢äº§å“é¡µ</Link>
```

## æµè§ˆå™¨åŸç”Ÿçš„è·¯ç”±å¯¼èˆª

çª—å£ç›®å½•ä¸­çš„htmlæ–‡ä»¶ï¼Œåœ¨æ¡Œé¢å¯ä»¥è¢«æ‰“å¼€ä¸ºä¸€ä¸ªæ–°çª—å£ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä¸ºä¸€ä¸ªæ–°æ ‡ç­¾ã€‚æœ‰ä¸¤ç§æ–¹å¼å®ç°CSå’ŒBSç¯å¢ƒçš„å·®å¼‚åŒ–å¤„ç†ã€‚

1. **htmlçš„aæ ‡ç­¾**
    
     **aã€**è‡ªé€‚åº”ç¯å¢ƒçš„aæ ‡ç­¾
    
    - ç»™aæ ‡ç­¾åŠ ä¸Šnative-target=â€_windowâ€å¯è‡ªåŠ¨é€‚åº”CSå’ŒBSã€‚æ•ˆæœæ˜¯æ¡Œé¢ä¸­æ‰“å¼€æ–°çª—å£ï¼Œæµè§ˆå™¨ç¯å¢ƒæ‰“å¼€æ–°é¡µé¢ã€‚å½“æœ‰targetå±æ€§æ—¶å€™åªå½±å“æµè§ˆå™¨ã€‚
    - ç»™aæ ‡ç­¾åŠ ä¸Šnative-options="{width:1920,height:1080}â€å¯ä»¥è®¾ç½®æ¡Œé¢æ‰“å¼€çª—å£çš„å‚æ•°ã€‚å…·ä½“é…ç½®å’Œwindow.jsonçš„æ–‡ä»¶é…ç½®ä¸€æ ·ã€‚
    
    **è‡ªé€‚åº”CSå’ŒBSçš„aæ ‡ç­¾çš„ç‰¹æ€§ï¼š**
    
    - æ”¯æŒhttpåè®®çš„URLå’Œfile:åè®®çš„URLã€‚
    - æ”¯æŒç›¸å¯¹äºé¡¹ç›®windowsç›®å½•çš„è·¯å¾„ã€‚
    - æ”¯æŒä½¿ç”¨â€œ..â€æ¥è®¿é—®ç›¸å¯¹å½“å‰htmlçš„ä¸Šä¸€å±‚ç›®å½•ã€‚
    
    ```html
    <a href="../newhtml-window/index.html" native-target="_window">newhtml-window</a>
    ```
    
    **bã€**ä¸é€‚åº”ç¯å¢ƒçš„aæ ‡ç­¾ã€‚æµè§ˆå™¨åŸæœ‰aæ ‡ç­¾ç‰¹æ€§ï¼Œä¸è¿‡target=â€_blankâ€åœ¨CSç¯å¢ƒä¸‹ä¸ä¼šæ‰“å¼€æ–°çª—å£ï¼Œä¹Ÿä¸å­˜åœ¨æ–°æ ‡ç­¾ä¸€è¯´ã€‚
    
    ä»¥ä¸‹æ˜¯è¾ƒä¸ºå…¨é¢çš„ä¸¾ä¾‹ï¼š
    
    ```html
    <!-- åœ¨æ¡Œé¢ä¸­æ‰“å¼€æ–°çª—å£ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€é¡µé¢ã€‚ä¸Šä¸€å±‚ç›®å½•ä¸‹çš„index.html -->
    <a href="../newhtml-window/index.html" native-target="_window">newhtml-window</a>
    <!-- åœ¨æ¡Œé¢ä¸­æ‰“å¼€æ–°çª—å£ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€é¡µé¢ã€‚æ‰“å¼€åŒçº§ç›®å½•ä¸‹çš„index.html -->
    <a href="other.html" native-target="_window">other-window</a>
    <!-- åœ¨æ¡Œé¢ä¸­æ‰“å¼€æ–°çª—å£ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€é¡µé¢ã€‚æ‰“å¼€åŒçº§ç›®å½•ä¸‹çš„index.html -->
    <a href="./other.html" native-target="_window">other-window</a>
    <!-- åœ¨æ¡Œé¢ä¸­æ‰“å¼€æ–°çª—å£ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€é¡µé¢ã€‚æ‰“å¼€windowsç›®å½•ä¸‹çš„index.html -->
    <a href="/index.html" native-target="_window">/index.html</a>
    <!-- åœ¨æ¡Œé¢ä¸­æ‰“å¼€æ–°çª—å£ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€é¡µé¢ã€‚æ‰“å¼€windowsç›®å½•ä¸‹çš„index.html ä¼šè‡ªåŠ¨é»˜è®¤ä¸ºindex.html-->
    <a href="/" native-target="_window">/index.html</a>
    <!-- åœ¨æ¡Œé¢åº”ç”¨ä¸­é€šå¸¸æ‰“ä¸å¼€ï¼ˆä¸æ˜¯ç»å¯¹ï¼‰ï¼Œå› ä¸ºä¼šåŸºäºæ–‡ä»¶çš„æ ¹ç›®å½•å¯»æ‰¾æ­¤æ–‡ä»¶è€Œä¸å­˜åœ¨ã€‚åœ¨æµè§ˆå™¨ä¸­å¯ä»¥åŸºäºè®¿é—®åŸŸåæ‰“å¼€ -->
    <a href="/newhtml-window/index.html">newhtml-window(/newhtml-window/index.html)</a>
    <!-- åœ¨æ¡Œé¢åº”ç”¨ä¸­å¯ä»¥åœ¨å½“å‰çª—å£æ‰“å¼€ï¼Œåœ¨æµè§ˆå™¨ä¹Ÿæ˜¯åœ¨å½“å‰çª—å£æ‰“å¼€ -->
    <a href="../newhtml-window/index.html">new html</a>
    <!-- åœ¨æ¡Œé¢åº”ç”¨ä¸­å¯ä»¥åœ¨å½“å‰çª—å£æ‰“å¼€ï¼Œåœ¨æµè§ˆå™¨ä¹Ÿæ˜¯åœ¨å½“å‰çª—å£æ‰“å¼€ -->
    <a href="http://localhost:5173/newhtml-window/index.html">http://localhost:5173/newhtml-window/index.html</a>
    <!-- åœ¨å·¦é¢ä¸­å¯ä»¥åœ¨å½“å‰çª—å£æ‰“å¼€ï¼Œåœ¨æµè§ˆå™¨ä¹Ÿæ˜¯åœ¨å½“å‰çª—å£æ‰“å¼€ -->
    <a href="http://localhost:5173/index.html">http://localhost:5173/index.html</a>
    <!-- åœ¨æ¡Œé¢åº”ç”¨ä¸­å¯ä»¥åœ¨å½“å‰çª—å£æ‰“å¼€ï¼Œåœ¨æµè§ˆå™¨ä¹Ÿæ˜¯åœ¨å½“å‰çª—å£æ‰“å¼€ -->
    <a href="http://localhost:5173/">http://localhost:5173/</a>
    <!-- åœ¨æ¡Œé¢ä¸­æ‰“å¼€æ–°çª—å£ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€é¡µé¢ã€‚æ”¯æŒæ‰“å¼€httpé“¾æ¥ï¼Œå¹¶ä¸”æ”¯æŒé…ç½®çª—å£é€‰é¡¹-->
    <a href="https://www.baidu.com/" native-target="_window" native-options="{width:1920,height:1080}">https://www.baidu.com/</a>
    <!-- åœ¨æ¡Œé¢ä¸­æ‰“å¼€æ–°çª—å£ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€é¡µé¢ã€‚æ”¯æŒæ‰“å¼€æœ¬åœ°å­˜åœ¨çš„æ–‡ä»¶ï¼Œå¹¶ä¸”æ”¯æŒé…ç½®çª—å£é€‰é¡¹-->
    <a href="file:///E:/work/electron/demo-vue3-5/dist/packager/win-unpacked/resources/app.asar/out/build/windows/index.html" native-target="_window" native-options="{width:1920,height:1080}">file:///E:/work/electron/demo-vue3-5/dist/packager/win-unpacked/resources/app.asar/out/build/windows/index.html</a>
    ```
    
    **æ­¤aæ ‡ç­¾çš„ä¸¾ä¾‹ä½ åº”è¯¥ä»”ç»†å­¦ä¹ ã€‚**
    
2. **Javascriptçš„æ–¹æ³•**ï¼ŒCSç¯å¢ƒæ‰“å¼€æ–°çª—å£ï¼ŒBSç¯å¢ƒèµ°location.hrefã€location.replaceã€window.openã€‚
    - location.hrefã€‚é€šè¿‡ä¿®æ”¹ location.href æˆ–è°ƒç”¨ location.assign() åŠ è½½æ–°é¡µé¢ï¼Œç”Ÿæˆå†å²è®°å½•ï¼Œç”¨æˆ·å¯åé€€ã€‚**é€šè¿‡ç¯å¢ƒæ£€æµ‹å˜é‡â€window.isMixoneâ€æ£€æµ‹ä¸ºæ¡Œé¢æ—¶ï¼Œä½¿ç”¨çª—å£ç®¡ç†ï¼ˆwindow.windowManagerï¼‰ç±»æ¥openWindowï¼ˆopenModalWindowï¼‰æ‰“å¼€æ–°çª—å£ã€‚**
    
    ```jsx
    window.location.href = "https://example.com/new-page";
    // æˆ–
    window.location.assign("https://example.com/new-page");
    ```
    
    - location.replaceã€‚ ç”¨æ–° URL æ›¿æ¢å½“å‰é¡µé¢ï¼Œä¸ç”Ÿæˆå†å²è®°å½•ï¼Œç”¨æˆ·æ— æ³•é€šè¿‡æµè§ˆå™¨åé€€æŒ‰é’®è¿”å›åŸé¡µé¢ã€‚**é€šè¿‡ç¯å¢ƒæ£€æµ‹å˜é‡â€window.isMixoneâ€æ£€æµ‹ä¸ºæ¡Œé¢æ—¶ï¼Œä½¿ç”¨çª—å£ç®¡ç†ï¼ˆwindow.windowManagerï¼‰ç±»æ¥openWindowï¼ˆopenModalWindowï¼‰æ‰“å¼€æ–°çª—å£ã€‚**
    
    ```jsx
    window.location.replace("https://example.com/new-page");
    ```
    
    - window.open()ã€‚ åœ¨æ–°çª—å£æˆ–æ ‡ç­¾é¡µä¸­æ‰“å¼€ URLï¼Œå¯è‡ªå®šä¹‰çª—å£å±æ€§ï¼ˆå¦‚å¤§å°ã€å·¥å…·æ ç­‰ï¼‰ã€‚**é€šè¿‡ç¯å¢ƒæ£€æµ‹å˜é‡â€window.isMixoneâ€æ£€æµ‹ä¸ºæ¡Œé¢æ—¶ï¼Œä½¿ç”¨çª—å£ç®¡ç†ï¼ˆwindow.windowManagerï¼‰ç±»æ¥openWindowï¼ˆopenModalWindowï¼‰æ‰“å¼€æ–°çª—å£ã€‚**

**SPAæ¡†æ¶è·¯ç”±ï¼ˆvue-routerã€react-router-domï¼‰å’Œæµè§ˆå™¨åŸç”Ÿè·¯ç”±çš„åŒºåˆ«ï¼š**SPAæ¡†æ¶è·¯ç”±ä¸æ”¯æŒæ‰“å¼€æ–°çª—å£ã€åŒ…æ‹¬å­æ¨¡æ€çª—å£ã€‚

# å»IPCè¯­æ³•

å»IPCè¯­æ³•ä¹Ÿå¯ä»¥è¯´æ˜¯ç»•å¼€IPCç¹ççš„å¼€å‘æ¨¡å¼ã€‚

**å»IPCçš„ä¸¤ç§æ–¹å¼ï¼š**

## è¯­æ³•ç³–ã€‚

ä»¥Mainã€NodeJSã€PJSå¼€å§‹è®¿é—®Â electronçš„APIå’ŒnodeåŒ…å’Œæ’ä»¶ï¼ˆPlugin JSï¼‰ã€‚

```tsx
//é€šè¿‡Mainå¼€å§‹çš„è¯­æ³•ç³–è·å–ç³»ç»Ÿçš„documentsè·¯å¾„
let path = await Main.app.getPath('documents');
```

**è¯­æ³•ç³–çš„ç»„æˆï¼š**

> è¯­æ³•ç³–çš„ç»„æˆæ˜¯MixOneçš„å¿…ä¿®è¯¾ï¼Œä¸æ‡‚è¯­æ³•ç³–ä½ å°±ä¸æ‡‚MixOne
> 

MinOneè¯­æ³•ç³–çš„ç»„æˆæ˜¯ç”± **å…³é”®å­— + APIåç§°(åŒ…åç§°)+æ–¹æ³•æˆ–å±æ€§**

![syntactic-sugar.png](syntactic-sugar.png)

**å…³é”®è¯**æœ‰Mainã€NodeJSã€PJSä¸‰ä¸ªã€‚**APIåç§°**æŒ‡çš„æ˜¯Electronä¸»è¿›ç¨‹APIã€‚**åŒ…åç§°**æŒ‡çš„æ˜¯Nodeé€šè¿‡requireå¼•å…¥çš„æ¨¡å—åç§°ã€‚ç„¶åä»¥â€œ.â€ï¼ˆç‚¹ï¼‰è¿æ¥èµ·æ¥ï¼Œå°±æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ã€‚

**ç†è§£MixOneè¯­æ³•ç³–**

- æ–¹æ³•æˆ–å±æ€§æ˜¯æ‰€å±å¯¹åº”çš„APIæˆ–åŒ…åï¼Œå¦‚æœæ˜¯æ–¹æ³•æ—¶å¯ä»¥ä¼ å‚æ•°ã€‚å¦‚æœæ˜¯å±æ€§çš„è®¿é—®ï¼Œåˆ™ä¸å­˜åœ¨å‚æ•°ä¸€è¯´ã€‚
- è¯­æ³•ç³–çš„ç¬¬äºŒä¸ªä½ç½®è¦ä¹ˆæ˜¯(Electron)APIåç§°ï¼Œè¦ä¹ˆæ˜¯(Node)åŒ…åç§°ï¼Œåªèƒ½äºŒé€‰ä¸€çš„å­˜åœ¨ï¼Œä¸èƒ½å…±å­˜ã€‚
- è¯­æ³•ç³–çš„ç¬¬ä¸‰ä¸ªä½ç½®æ˜¯æ–¹æ³•æˆ–å±æ€§ã€‚è¿™äº›æ–¹æ³•æˆ–å±æ€§æ‰€å±å¯¹åº”çš„APIåç§°æˆ–åŒ…åç§°ã€‚æ–¹æ³•å¯ä»¥å¸¦å‚æ•°ï¼Œå‚æ•°å¯ä»¥å˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•°å­—ï¼Œä½†ä¸èƒ½æ˜¯å‡½æ•°ï¼ˆå›è°ƒå‡½æ•°ï¼‰ã€ç›´æ¥çš„å¯¹è±¡ï¼ˆå¯¹è±¡å¯ä»¥å…ˆèµ‹å€¼ç»™å˜é‡å†ä¼ å…¥å‚æ•°ï¼‰ã€‚

**ä»¥ä¸Šæˆ‘ä»¬è¯´äº†ä»€ä¹ˆæ˜¯MixOneè¯­æ³•ç³–ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ä¸¾å‡ ä¸ªä¾‹å­ï¼š**

- åŸç”Ÿå†™å…¥å‰ªè´´æ¿æ–¹æ³•

```jsx
Main.clipboard.writeText('Example string')
```

è¯¥è¯­æ³•ç³–çš„ä¾‹å­æˆ‘æ˜¯ä»Electronçš„å®˜ç½‘åœ°å€https://www.electronjs.org/docs/latest/api/clipboard ä¸­æ‰¾åˆ°äº†ä¸€ä¸ªclipboardçš„APIï¼Œäºæ˜¯æˆ‘æ ¹æ®MixOneè¯­æ³•ç³–çš„ç»„æˆè§„åˆ™æˆ‘åœ¨å‰é¢åŠ ä¸Šâ€œMain.â€å­—ç¬¦ä¸²ç»„åˆå¾—åˆ°äº†è¿™ä¹ˆä¸€ä¸ªè¯­æ³•ç³–ã€‚ä»æ–‡æ¡£ä¸­çœ‹åˆ°clipboardæœ‰**`writeText`** çš„Methodsï¼Œå’Œå‚æ•°è¯´æ˜ã€‚

![sugar-example-clipboard.png](sugar-example-clipboard.png)

- è·å–æ“ä½œç³»ç»Ÿåç§°ã€CPUæ¶æ„ã€å¹³å°ã€ç‰ˆæœ¬

```jsx
//æ“ä½œç³»ç»Ÿåç§°
NodeJS.os.type()
//CPUæ¶æ„
NodeJS.os.arch()
//ç³»ç»Ÿå¹³å°
NodeJS.os.platform()
//æ“ä½œç³»ç»Ÿç‰ˆæœ¬
NodeJS.os.release()
```

è¯¥è¯­æ³•ç³–çš„ä¾‹å­æˆ‘æ˜¯ä»https://www.w3schools.com/nodejs/nodejs_os.aspèœé¸Ÿç½‘ç«™æ‰¾åˆ°äº†ä¸€ä¸ªOSæ¨¡å—ï¼Œæ ¹æ®è¯­æ³•ç³–çš„ç»„æˆè§„åˆ™ï¼Œæˆ‘åœ¨os.type()çš„å‰é¢åŠ äº†â€NodeJS.â€å­—ç¬¦ä¸²åå°±å˜æˆäº†MixOneçš„è¯­æ³•ç³–ã€‚

- åˆ©ç”¨PJSé€šè¿‡MixOneæ’ä»¶æœºåˆ¶è®¿é—®ç³»ç»Ÿä¿¡æ¯çš„ä¾‹å­ã€‚è¯­æ³•ç³–ä¸ä»…å¯ä»¥è®¿é—®Electronçš„APIå’ŒnodeåŒ…ï¼Œè¿˜å¯ä»¥é«˜æ•ˆçš„è®¿é—®è‡ªå·±è®¾è®¡çš„MixOneåŸç”Ÿæ’ä»¶ã€‚åŸç”Ÿæ’ä»¶çš„ç¼–å†™è¯·çœ‹ã€æ’ä»¶æœºåˆ¶ã€‘ç« èŠ‚ã€‚

```jsx
PJS.WENJIAN.read() 
```

ä¸Šé¢è®¿é—®äº†WENJIANæ’ä»¶çš„readæ–¹æ³•ã€‚é‚£ä¹ˆä»–çš„æ’ä»¶æ˜¯å¦‚ä½•å†™çš„å‘¢ï¼Ÿæˆ‘è´´å‡ºæ¥ä½ çœ‹

```jsx
const WENJIAN = {
    read: function () {
        return {
	        electron:process.versions.electron,
	        node:process.versions.node,
	        chrome:process.versions.chrome
        };
    },
    write: function (data) {
        console.log(data);
    }
}

module.exports = WENJIAN;
```

**è‡³æ­¤ï¼ä½ èƒ½è‡ªå·±ç»„åˆå…¶ä»–MixOneè¯­æ³•ç³–äº†å—ï¼Ÿè¯·**åœ¨ä½ åˆ›å»ºçš„MixOneé¡¹ç›®ä¸­è¯•è¯•èƒ½å¦å¾—åˆ°ä½ æƒ³è¦çš„ç»“æœï¼Œè®°ä½ï¼Œ**è¯­æ³•ç³–å‰ä¸€å®šè¦æœ‰ await**ï¼Œawaitæ‰€åœ¨å‡½æ•°å¿…é¡»æ˜¯asyncå¼‚æ­¥çš„å“¦ï¼

é”™è¯¯çš„ä½¿ç”¨è¯­æ³•æ­£ç¡®ä½¿ç”¨è¯­æ³•ç³–çš„å¯¹æ¯”ï¼š

**é”™è¯¯ï¼š**

```jsx
const fullPath = NodeJS.path.join('/user', 'documents', 'file.txt');
```

**æ­£ç¡®:**

```jsx
const fullPath = await NodeJS.path.join('/user', 'documents', 'file.txt');
```

**é”™è¯¯ï¼š**

```jsx
await NodeJS.path.join(await NodeJS.os.homedir(), 'my_test_document.txt')
```

**æ­£ç¡®ï¼š**

```jsx
let homePath = await NodeJS.os.homedir();
await NodeJS.path.join(homePath, 'my_test_document.txt')
```

è¿™ä¸ªé”™è¯¯çš„åµŒå¥—åœ¨MixOneä¸­æ˜¯ä¸å…è®¸çš„ï¼Œå¯ä»¥çœ‹å‡ºè¿™ç§åµŒå¥—æ˜¯å°†MixOneè¯­æ³•ç³–ä½œä¸ºå¦ä¸€ä¸ªè¯­æ³•ç³–çš„å‚æ•°ï¼Œåœ¨å®é™…å¼€å‘ä¸­ä¸€å®šè¦å…ˆåé¡ºåºè°ƒç”¨è¯­æ³•ç³–ã€‚

**é”™è¯¯ï¼š**

```jsx
const result = await Main.dialog.showOpenDialog({
  title: 'é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶',
  defaultPath: await Main.app.getPath('documents'), // âŒ é”™è¯¯ï¼šåµŒå¥—ä½¿ç”¨
  buttonLabel: 'é€‰æ‹©',
  filters: [
    { name: 'å›¾ç‰‡æ–‡ä»¶', extensions: ['jpg', 'png', 'gif'] },
    { name: 'æ–‡æœ¬æ–‡ä»¶', extensions: ['txt', 'md'] },
    { name: 'æ‰€æœ‰æ–‡ä»¶', extensions: ['*'] }
  ],
  properties: ['openFile', 'multiSelections', 'showHiddenFiles']
});
```

æ­£ç¡®ï¼š

```jsx
let documentsPath = await Main.app.getPath('documents');
const result = await Main.dialog.showOpenDialog({
  title: 'é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶',
  defaultPath: documentsPath, // âœ… æ­£ç¡®ï¼šä½¿ç”¨å˜é‡
  buttonLabel: 'é€‰æ‹©',
  filters: [
    { name: 'å›¾ç‰‡æ–‡ä»¶', extensions: ['jpg', 'png', 'gif'] },
    { name: 'æ–‡æœ¬æ–‡ä»¶', extensions: ['txt', 'md'] },
    { name: 'æ‰€æœ‰æ–‡ä»¶', extensions: ['*'] }
  ],
  properties: ['openFile', 'multiSelections', 'showHiddenFiles']
});
```

è¿™ä¸ªé”™è¯¯ä¾‹å­ä¾æ—§æ˜¯å‘ç”Ÿäº†åµŒå¥—é”™è¯¯ã€‚

> MixOneè¯­æ³•ç³–å‰å¿…é¡»æœ‰awaitå…³é”®è¯ï¼
> 

> MixOneè¯­æ³•ç³–ä¹Ÿä¸èƒ½åµŒå¥—ï¼
> 

> MixOneè¯­æ³•ç³–ä¸æ”¯æŒpromiseçš„thençš„ä¹¦å†™æ¨¡å¼ã€‚
> 

## æ³¨é‡Šã€‚

ä»¥â€// @mainProcessâ€æ³¨é‡Šå°†å‡½æ•°å˜ä¸ºä¸»è¿›ç¨‹ä»£ç ã€‚è¿™æ˜¯å¾ˆæœ‰ç”¨çš„å»IPCæ–¹æ³•ï¼Œé€šå¸¸æ˜¯ä»¥ä¸ŠMixOneè¯­æ³•ç³–ä¸èƒ½æ»¡è¶³çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚

**æ³¨é‡Šæ–¹å¼å»IPCçš„ä½¿ç”¨åœºæ™¯**ï¼š

- è¿ç»­ä½¿ç”¨è¯­æ³•ç³–è¿‡å¤šï¼Œæ€§èƒ½ä½ã€‚å¦‚æœæˆ‘ä»¬é‡‡ç”¨æ³¨é‡Šæ–¹å¼ï¼Œè¿™äº›é¢‘ç¹è°ƒç”¨åŸç”ŸåŠŸèƒ½çš„æ–¹æ³•å°±ä¸ä¼šæ¥å›åœ¨ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´è·¨è¿›ç¨‹é€šè®¯ã€‚ç­‰åˆ°æœ€ç»ˆå¤„ç†å®Œæˆæ‰æŠŠç»“æœä¼ ç»™æ¸²æŸ“è¿›ç¨‹ã€‚
- æ³¨é‡Šä¸ºä¸»è¿›ç¨‹å‡½æ•°å¯ä»¥é€šè¿‡å­—èŠ‚ç ä¿æŠ¤é‡è¦çš„ç®—æ³•ä¸è¢«ç›—å–ã€‚
- æœ‰çš„è¯­æ³•ç³–æœ‰å›è°ƒå‡½æ•°çš„å‚æ•°ï¼Œè¿™ç§æƒ…å†µä¸‹è¯­æ³•ç³–æ˜¯ä¼šå‡ºé”™çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ³¨é‡Šæ¥å˜ä¸ºä¸»è¿›ç¨‹å‡½æ•°ï¼Œå°±å¯ä»¥å¯¹åŸç”ŸåŠŸèƒ½ä½¿ç”¨å›è°ƒå‡½æ•°çš„å‚æ•°äº†ã€‚

æ³¨é‡Šæ³•çš„åº”ç”¨æ–‡ä»¶ï¼š

- jsæ–‡ä»¶ä¸­ã€‚
- htmlæ–‡ä»¶çš„scriptæ ‡ç­¾ä¸­
- vueæ–‡ä»¶çš„scriptæ ‡ç­¾ä¸­
- tsxæ–‡ä»¶ä¸­

æ³¨é‡Šæ³•å»IPCçš„ä¸¾ä¾‹ï¼š

- åœ¨vueæ–‡ä»¶ä¸­ä½¿ç”¨æ³¨é‡Šå»IPCçš„ä¾‹å­ã€‚è¢«æ³¨é‡Šçš„å‡½æ•°ä½äºé€‰é¡¹å¼APIçš„methodsçš„å€¼ä¸­ã€‚

![sugar-example-main-note.jpeg](sugar-example-main-note.jpeg)

- è¿™æ˜¯åœ¨tsæ–‡ä»¶ä¸­ä½¿ç”¨æ³¨é‡Šå»IPCçš„ä¾‹å­ã€‚åœ¨å…¶ä»–æ–‡ä»¶å¯¼å…¥å³å¯ä½¿ç”¨ã€‚

![sugar-example-remove-ipc2.png](sugar-example-remove-ipc2.png)

éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š

- æ”¯æŒfunctionå®šä¹‰çš„å‡½æ•°ï¼Œæ”¯æŒå˜é‡å®šä¹‰çš„æ™®é€šå‡½æ•°ï¼ˆå’Œç®­å¤´å‡½æ•°ï¼‰
- å‡½æ•°å¿…é¡»æ˜¯é¡¶å±‚ä½œç”¨åŸŸçš„å‡½æ•°ï¼Œè€Œä¸æ˜¯å…¶ä»–ä½œç”¨åŸŸå†…è¢«åµŒå¥—çš„å†…éƒ¨å‡½æ•°ã€‚
- å‡½æ•°å†…çš„å˜é‡å¼•ç”¨å¿…é¡»æ˜¯å‡½æ•°ä½“å†…å®šä¹‰çš„å˜é‡ï¼Œä¸èƒ½å¼•ç”¨å‡½æ•°ä½“å¤–å®šä¹‰çš„å˜é‡ï¼ˆå‚æ•°å±äºå‡½æ•°ä½“å†…çš„å˜é‡ï¼‰ã€‚
- ä¸è¦åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨è¯­æ³•ç³–ï¼Œè¿™ç§æ··ç”¨æ˜¯ä¸æ”¯æŒçš„ã€‚

# æ’ä»¶æœºåˆ¶

## æ’ä»¶æœºåˆ¶åº”ç”¨åœºæ™¯ï¼š

- å®ç°å¯å¤ç”¨çš„åŸç”ŸåŠŸèƒ½ã€‚ä¸ä»…æ˜¯é¡¹ç›®å†…å¤ç”¨ï¼Œè¿˜å¯ä»¥å¤åˆ¶åˆ°å…¶ä»–MixOneå†…è¿›è¡Œå¤ç”¨ã€‚
- å¯ä»¥åœ¨Mainç›®å½•ä¸‹ç¼–å†™ç‹¬ç«‹çš„åŸç”ŸåŠŸèƒ½æ¨¡å—ï¼Œè€Œä¸å—åˆ°ä»»ä½•é™åˆ¶ï¼Œå¯ä»¥ä»»æ„requireå…¶ä»–æ¨¡å—ï¼Œå»IPCæ›´å½»åº•ã€‚
- å¤šçª—å£ä¹‹é—´è°ƒç”¨å¯ä»¥ä¿æŒçŠ¶æ€ã€‚å‡è®¾Açª—å£è°ƒç”¨ä¸€ä¸ªaddæ–¹æ³•ä»0å¢åŠ åˆ°1ï¼ŒBçª—å£å¯ä»¥è®¿é—®åˆ°è¿™ä¸ªæ˜¯1ï¼Œä¹Ÿå¯ä»¥ç»§ç»­å¢åŠ ã€‚

ä»–å’ŒæŠŠå‡½æ•°æ³¨é‡Šä¸ºä¸»è¿›ç¨‹ä»£ç å»IPCç›¸æ¯”ï¼Œæ’ä»¶æœºåˆ¶æ›´åƒæ˜¯ä¸€ä¸ªç±»ï¼Œå®ç°çš„ç›¸å…³åŠŸèƒ½åŒ…å«ä¸€ç³»åˆ—æ–¹æ³•å’Œå±æ€§ã€‚

## å®ç°æ’ä»¶çš„è¦ç‚¹ï¼š

é€šè¿‡ module.exports å¯¼å‡ºä¸€ä¸ªå¯¹è±¡å³å¯ã€‚å¦‚ä¸‹ä¾‹å­

```jsx
const WENJIAN = {
    read: function () {
        return {
	        electron:process.versions.electron,
	        node:process.versions.node,
	        chrome:process.versions.chrome
        };
    },
    write: function (data) {
        console.log(data);
    }
}

module.exports = WENJIAN;
```

æœ‰æ—¶å€™è¿™æ ·çš„å¯¹è±¡éƒ½è¿˜ä¸å¤Ÿå¼ºå¤§ã€‚å¯ä»¥åœ¨å¯¹è±¡ä¹‹å‰åˆ›å»ºä¸€äº›classç±»ï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡é—´æ¥çš„å»å®ä¾‹åŒ–ï¼Œè®¿é—®æ“ä½œå’Œå±æ€§ã€‚

```jsx
//actionStore.js
class DataProcessor {
  constructor(data = {}) {
    this.data = data;
    this.lastProcessed = null;
  }

  // å¤„ç†æ•°æ®æ–¹æ³•
  process() {
    this.lastProcessed = new Date();
    return {
      ...this.data,
      processedAt: this.lastProcessed,
      summary: this.generateSummary()
    };
  }

  // ç”Ÿæˆæ•°æ®æ‘˜è¦
  generateSummary() {
    return Object.keys(this.data).length > 0 
      ? `åŒ…å«${Object.keys(this.data).length}ä¸ªå±æ€§çš„æ•°æ®`
      : 'ç©ºæ•°æ®';
  }

  // è·å–æœ€åå¤„ç†æ—¶é—´
  getLastProcessedTime() {
    return this.lastProcessed;
  }

  // é™æ€æ–¹æ³• - åˆ›å»ºé¢„å®šä¹‰å®ä¾‹
  static createDefault() {
    return new DataProcessor({
      name: 'é»˜è®¤æ•°æ®',
      type: 'object',
      version: '1.0'
    });
  }
}
const DataProcessorObj = new DataProcessor()
const actionStore = {
    generateSummary: function () {
        return DataProcessorObj.generateSummary();
    }
}

module.exports = actionStore;
```

å¯ä»¥åˆ›å»ºè‡ªå·±çš„classç„¶åä»»æ„é€šè¿‡PJS.actionStore.generateSummary()è°ƒç”¨ã€‚

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬

## æ„å»ºå‘½ä»¤:

```bash
//æ‰“åŒ…windowçš„æ¡Œé¢ç«¯
npm run build:win
//æ‰“åŒ…macçš„æ¡Œé¢ç«¯
npm run build:mac
//æ‰“åŒ…liunxçš„æ¡Œé¢ç«¯
npm run build:linux

//æ‰“åŒ…webå‘å¸ƒã€‚
npm run build:web
```

## å­—èŠ‚ç æ‰“åŒ…

æ–°åˆ›å»ºçš„é¡¹ç›®æ˜¯æ²¡æœ‰å¼€å¯å­—èŠ‚ç çš„ï¼Œä½ éœ€è¦æ‰‹åŠ¨åœ¨package.jsonçš„å¦‚å›¾ä½ç½®å¢åŠ â€œâ€”bytecodeâ€å³å¯å®ç°å­—èŠ‚ç æ„å»ºã€‚

![image.png](image.png)

## ç”Ÿäº§ç‰ˆæœ¬è¾“å‡ºæ–‡ä»¶å¤¹

- æ¡Œé¢ç«¯æ–‡ä»¶æ‰“åŒ…åˆ°/dist/packagerç›®å½•ï¼Œwebæ‰“åŒ…åˆ°/dist/webç›®å½•ã€‚
- ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯
    - ä½¿ç”¨mini-electronæ‰“åŒ…ï¼Œèƒ½ç¼©å°åˆ°18Mçš„ä½“ç§¯ã€‚ï¼ˆå…·ä½“æ“ä½œè¯·ç»§ç»­å…³æ³¨ï¼‰
    - å°†vueæˆ–reactç§»åŠ¨åˆ°devDependenciesï¼ˆnodeä½¿ç”¨çš„åŒ…æ‰æ”¾åœ¨dependenciesï¼‰
    - å‹ç¼©å›¾ç‰‡ã€‚
    - å°½é‡å¤ç”¨ç»„ä»¶ã€‚
    - å°½é‡é¿å…å®‰è£…ç¬¬ä¸‰æ–¹åŒ…ã€‚
    - è®¾ç½®electronè¯­è¨€ï¼ˆpackage.jsonä¸­build.electronLanguagesï¼‰ï¼Œä»…å°†éœ€è¦çš„è¯­è¨€æ‰“åŒ…è¿›æ¥ï¼Œå¤§çº¦å¯å‡å°‘4Mã€‚
    - å¦‚æœç”¨ä¸åˆ°å­—èŠ‚ç æ‰“åŒ…ï¼Œè¯·åœ¨æ ¹ç›®å½•â€œnpm uninstall bytenodeâ€ï¼Œï¼ˆä¹‹åä½¿ç”¨éœ€è¦å†æ¬¡å®‰è£…ï¼‰ã€‚
    - å¦‚æœç”¨ä¸åˆ°å‡çº§ï¼Œè¯·åœ¨æ ¹ç›®å½•â€œnpm uninstall electron-updaterâ€ï¼Œï¼ˆä¹‹åä½¿ç”¨éœ€è¦å†æ¬¡å®‰è£…ï¼‰ã€‚
    - é™çº§ä½¿ç”¨electronçš„ç‰ˆæœ¬å¯ä»¥é™ä½æ‰“åŒ…ä½“ç§¯ã€‚
        
        
        | electronç‰ˆæœ¬ | æ‰“åŒ…exeåçš„æœ€å°ä½“ç§¯ | åœ¨300Mbpså®½å¸¦ä¸‹è½½æ‰€éœ€æ—¶é—´ |
        | --- | --- | --- |
        | V37 | 78M | 3ç§’ |
        | V21 | 61M | 2ç§’ |
        | V15 | 59M | 2ç§’ |

# ç¯å¢ƒå˜é‡å’Œæ¨¡å¼

- **å·²æ‰“åŒ…ç¯å¢ƒã€‚**å·²æ‰“åŒ…æ¡Œé¢åº”ç”¨æˆ–webäº§ç‰©åè¿è¡Œçš„ç¯å¢ƒã€‚å·²æ‰“åŒ…çš„æ¡Œé¢åº”ç”¨æ˜¯file:åè®®åŠ è½½htmlæ–‡ä»¶ä½œä¸ºæ¡Œé¢è§†å›¾ã€‚
- **æœªæ‰“åŒ…ç¯å¢ƒã€‚**
    - å¼€å‘æ¨¡å¼ã€‚ä»¥â€œnpm run devâ€å’Œâ€œnpm run dev:webâ€å°±æ˜¯å¼€å‘ç¯å¢ƒï¼Œä¸»è¦æ˜¯ä¼šåˆ›å»ºhttpæœåŠ¡è®©å¼€å‘æ—¶å€™å¯ä»¥å› ä¿®æ”¹è€Œçƒ­åŠ è½½ï¼Œä¾¿äºé¢„è§ˆã€‚
    - é¢„è§ˆæ¨¡å¼ã€‚ä»¥â€œnpm run preview:webâ€ä¼šæ„å»ºç”Ÿäº§çš„äº§ç‰©å¹¶æ‰“å¼€httpæœåŠ¡ä»¥é¢„è§ˆï¼Œæ— è¯¯å³å¯å‘å¸ƒä¸Šç”Ÿäº§ç¯å¢ƒã€‚â€œnpm run preview:desktopâ€ä¼šæ„å»ºhtmläº§ç‰©ï¼Œç„¶åæ¡Œé¢ä»¥file:åè®®åŠ è½½é¢„è§ˆæ˜¯å¦æœ‰è¯¯ï¼Œæ— è¯¯å³å¯æ­£å¼ä½¿ç”¨**æ„å»ºå‘½ä»¤**æ‰“åŒ…æ¡Œé¢åº”ç”¨ã€‚

# è°ƒè¯•

## å¯åŠ¨å’Œç¼–è¯‘æ—¥å¿—

ä½äºé¡¹ç›®çš„/mixone-project/out/logs/xxxx.txt

## æ‰“åŒ…åè¿è¡Œé”™è¯¯æ—¥å¿—

ä½äºç³»ç»Ÿçš„AppDataç›®å½•ï¼Œwindowä¸‹é€šå¸¸æ˜¯C:\Users\admin\AppData\Local\mixone-project\logs\main_process.log

å…¶ä»–ç³»ç»Ÿè¯·è‡ªå¯»æ‰¾åˆ°app.getPath('userData') + â€˜logs/main_process.logâ€™ä½ç½®å³å¯æŸ¥çœ‹é”™è¯¯æ—¥å¿—ã€‚è‹¥ä¸å‡ºé”™æ˜¯ä¸ä¼šæœ‰é”™è¯¯æ—¥å¿—çš„ï¼ˆ*ä¸æ˜¯è¿è¡Œæ—¥å¿—*ï¼‰

## æ§åˆ¶å°æŸ¥çœ‹ä¸»è¿›ç¨‹logè¾“å‡º

å½“æˆ‘ä»¬ä½¿ç”¨mixoneå¼€å‘æ¡Œé¢æ—¶ï¼Œå¯ä»çª—å£çš„æ§åˆ¶å°æŸ¥çœ‹ä¸»è¿›ç¨‹çš„æ—¥å¿—ï¼Œè€Œæ— éœ€åˆ‡æ¢åˆ°æ§åˆ¶å°ã€‚

æ§åˆ¶å°çš„æ—¥å¿—ä»¥â€œ[Main Process]â€å¼€å¤´ï¼Œå…¶ä»–åˆ™ä¸ºæ¸²æŸ“è¿›ç¨‹çš„æ—¥å¿—ã€‚å¹¶éæ‰€æœ‰ä¸»è¿›ç¨‹console.logéƒ½ä¼šåœ¨å¼€å‘æ§åˆ¶å°è¾“å‡ºï¼Œæ¯”å¦‚å€¼æ˜¯å‡½æ•°ç±»å‹çš„æƒ…å†µåœ¨æ§åˆ¶å°æ— æ³•æ˜¾ç¤ºã€‚

![view-main-process-screenshot.png](view-main-process-screenshot.png)

# æ•…éšœæ’é™¤

- å®‰è£…mixoneä¸æˆåŠŸ
    - æ›´æ¢é•œåƒæº
    
    ```bash
    //æ£€æŸ¥é•œåƒæº
    npm config get registry
    //å¦‚æœä¸æ˜¯æ·˜å®é•œåƒhttps://registry.npmmirror.com ä½ å¯ä»¥ä¿®æ”¹ä¸ºæ·˜å®é•œåƒ
    npm config set registry=https://registry.npmmirror.com
    ```
    
    - ä½¿ç”¨yarnå®‰è£…
    
    ```bash
    cd mixone-project-dir/
    yarn
    ```
    
- npm run dev æ²¡æœ‰æ‰“å¼€æ¡Œé¢ï¼Ÿ
    - ç¡®å®ä½¿ç”¨æ­¤å‘½ä»¤å‰ï¼Œå·²ç»è¿›å…¥è¯¥ç›®å½•æ‰§è¡Œäº†â€œnpm installâ€å‘½ä»¤ã€‚å¯ä»¥ç”¨yarnå®‰è£…ã€‚
    - åœ¨å‘½ä»¤è¡Œ cd é¡¹ç›®ç›®å½•/node_modules/electron  ç›®å½•ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰ dist/electron.exeæ–‡ä»¶ï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™éœ€è¦æ‰§è¡Œnode install.jsä»¥å®‰è£…ã€‚
        
        ![check-mixone-electron-install-status.png](check-mixone-electron-install-status.png)
        
        ![fix-install-mixone-electron.png](fix-install-mixone-electron.png)
        
- æœ‰çª—å£æ²¡æœ‰æ‰“å¼€ã€‚è¯·æ£€æŸ¥æ˜¯å¦åœ¨çª—å£é…ç½®ä¸­æœ‰show:falseã€‚
- æ‰“åŒ…åä»»åŠ¡ç®¡ç†å™¨å‘ç°å¤šè¿›ç¨‹ã€‚1ã€è¯·æ£€æŸ¥æ˜¯å¦åœ¨main.jsæ–‡ä»¶ä¸­ä½¿ç”¨äº†setTimeoutå®šæ—¶å™¨æ‰“å¼€çª—å£äº†ã€‚2ã€æ˜¯å¦çª—å£å¯¹è±¡æ˜¯å¦ç›‘å¬äº‹ä»¶åå†æ˜¾ç¤ºï¼Œç¡®ä¿è¿™ä¸ªäº‹ä»¶æ˜¯è§¦å‘çš„ï¼Œæ¯”å¦‚ç¬”è€…æœ€è¿‘ç”¨ä¸‹é¢çš„ä»£ç åœ¨å¼€å‘æ¨¡å¼å¯ä»¥æ‰§è¡Œï¼Œä½†æ˜¯æ‰“åŒ…æ¨¡å¼å°±æ— æ³•æ‰§è¡Œäº†ï¼Œready-to-showäº‹ä»¶ç«Ÿç„¶æ²¡æœ‰è§¦å‘ã€‚
    
    ```jsx
    app.whenReady().then(async () => {
      // åˆ›å»ºä¸»çª—å£
      splashWindow = await windowManager.openWindow('/splash-window');
      splashWindow.on('ready-to-show', () => {
        splashWindow.show();
        openMainWindow(splashWindow);
      })
    })
    ```
    
- mainç›®å½•ä¸‹requireå¼•å…¥äº†å…¶ä»–ç›®å½•çš„æ–¹æ³•ã€‚è¿™æƒ…å†µåœ¨buildæ¡Œé¢ä¹‹åä¼šå‡ºé”™ï¼Œå› ä¸ºå…¶ä»–ç›®å½•éƒ½æ˜¯ä»¥webæ¨¡å—åŒ–çš„æ–¹å¼æ‰“åŒ…è¿›web distäº§ç‰©äº†ã€‚åŸæ–‡ä»¶ä¸ä¼šå†å­˜åœ¨ï¼Œè€Œmainç›®å½•ä¸åŒï¼Œbuildåä¾ç„¶å­˜åœ¨ã€‚æ‰€ä»¥mainç›®å½•çš„æ–¹æ³•èƒ½è¢«å…¶ä»–ç›®å½•å¼•ç”¨ï¼Œä½†åä¹‹æ˜¯ä¸è¡Œçš„

# API

MinOneæä¾›çš„APIå¯ä»¥åœ¨å®ƒåˆ›å»ºçš„MixOneé¡¹ç›®ä¸­çš„ä»»ä½•JavaScriptè„šæœ¬ä½ç½®ä½¿ç”¨ï¼ŒåŒ…æ‹¬åœ¨jsã€tsã€tsxã€vueç­‰æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚æœ‰çš„APIåœ¨ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¸­åˆæœ‰åŒºåˆ«ã€‚

## çª—å£ç®¡ç†ç±»

window.windowManageræ˜¯çª—å£ç®¡ç†ç±»ï¼Œå…·ä½“å¯è®¿é—®çš„æ–¹æ³•å¦‚ä¸‹ï¼š

| æ–¹æ³•å | mainç›®å½•ä½¿ç”¨ | émainç›®å½• | å‚æ•° | è¯´æ˜ |
| --- | --- | --- | --- | --- |
| openWindow | âœ… | âœ… | (windowPath, options = {}) | æ‰“å¼€æ–°çª—å£ |
| openModalWindow | âœ… | âœ… | (parentWinId, windowPath, options = {}) | æ‰“å¼€æ¨¡æ€çª—å£ |
| getAllWindow | âœ… | âœ… | () | è·å–æ‰€æœ‰çª—å£ä¿¡æ¯ |
| getWindowInfo | âœ… | âœ… | (winId) | è·å–æŒ‡å®šçª—å£ä¿¡æ¯ |
| getWindow | âœ… | âœ… | (winId) | è·å–æŒ‡å®šçª—å£å¯¹è±¡ |
| sendToWindow | âœ… | âœ… | (winId, eventName, data) | å‘æŒ‡å®šçª—å£å‘é€æ¶ˆæ¯ |
| broadcast | âœ… | âœ… | (channel, data, excludeWinIds = []) | å¹¿æ’­æ¶ˆæ¯åˆ°æ‰€æœ‰çª—å£ |

æ³¨æ„:mainç›®å½•ä¸‹ä»¥â€œwindowManagerâ€å¼€å¤´ï¼Œå…¶ä»–ç›®å½•ä»¥â€œwindow.windowManagerâ€å¼€å¤´

## çª—å£ç›®å½•å†…ç½®å¸¸é‡å’Œæ–¹æ³•ï¼š

- window.winId å¸¸é‡
- window.fromWinId å¸¸é‡ã€‚è·å–çª—å£æ‰“å¼€æ¥è·¯çª—å£çš„IDï¼Œå¦‚æœä¸º0è¡¨ç¤ºé¦–æ¬¡å¯åŠ¨ï¼Œæ²¡æœ‰æ¥è·¯çª—å£ã€‚

## Mainè¯­æ³•ç³–è®¿é—®Electron APIä¸¾ä¾‹

*è¯­æ³•ç³–çš„ç»„æˆåŸç†è¯·çœ‹ã€å»IPCã€‘â†’ã€è¯­æ³•ç³–ã€‘ç« èŠ‚*

ä»¥ä¸‹æ˜¯å‚è€ƒæœ€æ–°ç‰ˆelectron APIç»„åˆçš„è¯­æ³•ç³–å‰ç¼€ï¼Œå…·ä½“çš„è®¿é—®æ–¹æ³•å’Œå±æ€§è¯·ç§»æ­¥å®˜æ–¹æ–‡æ¡£ã€‚

| **APIï¼ˆMain.APIï¼‰** | **å¯¹åº”å®˜æ–¹æ–‡æ¡£** |
| --- | --- |
| `Main.app` | [https://www.electronjs.org//docs/latest/api/app](https://www.electronjs.org//docs/latest/api/app) |
| `Main.autoUpdater` | [https://www.electronjs.org//docs/latest/api/auto-updater](https://www.electronjs.org//docs/latest/api/auto-updater) |
| `Main.BaseWindow` | [https://www.electronjs.org//docs/latest/api/base-window](https://www.electronjs.org//docs/latest/api/base-window) |
| `Main.BrowserView` | [https://www.electronjs.org//docs/latest/api/browser-view](https://www.electronjs.org//docs/latest/api/browser-view) |
| `Main.BrowserWindow` | [https://www.electronjs.org//docs/latest/api/browser-window](https://www.electronjs.org//docs/latest/api/browser-window) |
| `Main.clipboard` | [https://www.electronjs.org//docs/latest/api/clipboard](https://www.electronjs.org//docs/latest/api/clipboard) |
| `Main.contentTracing` | [https://www.electronjs.org//docs/latest/api/content-tracing](https://www.electronjs.org//docs/latest/api/content-tracing) |
| `Main.crashReporter` | [https://www.electronjs.org//docs/latest/api/crash-reporter](https://www.electronjs.org//docs/latest/api/crash-reporter) |
| `Main.desktopCapturer` | [https://www.electronjs.org//docs/latest/api/desktop-capturer](https://www.electronjs.org//docs/latest/api/desktop-capturer) |
| `Main.dialog` | [https://www.electronjs.org//docs/latest/api/dialog](https://www.electronjs.org//docs/latest/api/dialog) |
| `Main.globalShortcut` | [https://www.electronjs.org//docs/latest/api/global-shortcut](https://www.electronjs.org//docs/latest/api/global-shortcut) |
| `Main.inAppPurchase` | [https://www.electronjs.org//docs/latest/api/in-app-purchase](https://www.electronjs.org//docs/latest/api/in-app-purchase) |
| `Main.ipcMain` | [https://www.electronjs.org//docs/latest/api/ipc-main](https://www.electronjs.org//docs/latest/api/ipc-main) |
| `Main.Menu` | [https://www.electronjs.org//docs/latest/api/menu](https://www.electronjs.org//docs/latest/api/menu) |
| `Main.Class: MenuItem` | [https://www.electronjs.org//docs/latest/api/menu-item](https://www.electronjs.org//docs/latest/api/menu-item) |
| `Main.MessageChannelMain` | [https://www.electronjs.org//docs/latest/api/message-channel-main](https://www.electronjs.org//docs/latest/api/message-channel-main) |
| `Main.MessagePortMain` | [https://www.electronjs.org//docs/latest/api/message-port-main](https://www.electronjs.org//docs/latest/api/message-port-main) |
| `Main.nativeImage` | [https://www.electronjs.org//docs/latest/api/native-image](https://www.electronjs.org//docs/latest/api/native-image) |
| `Main.nativeTheme` | [https://www.electronjs.org//docs/latest/api/native-theme](https://www.electronjs.org//docs/latest/api/native-theme) |
| `Main.net` | [https://www.electronjs.org//docs/latest/api/net](https://www.electronjs.org//docs/latest/api/net) |
| `Main.netLog` | [https://www.electronjs.org//docs/latest/api/net-log](https://www.electronjs.org//docs/latest/api/net-log) |
| `Main.Notification` | [https://www.electronjs.org//docs/latest/api/notification](https://www.electronjs.org//docs/latest/api/notification) |
| `Main.powerMonitor` | [https://www.electronjs.org//docs/latest/api/power-monitor](https://www.electronjs.org//docs/latest/api/power-monitor) |
| `Main.powerSaveBlocker` | [https://www.electronjs.org//docs/latest/api/power-save-blocker](https://www.electronjs.org//docs/latest/api/power-save-blocker) |
| `Main.process` | [https://www.electronjs.org//docs/latest/api/process](https://www.electronjs.org//docs/latest/api/process) |
| `Main.protocol` | [https://www.electronjs.org//docs/latest/api/protocol](https://www.electronjs.org//docs/latest/api/protocol) |
| `Main.pushNotifications` | [https://www.electronjs.org//docs/latest/api/push-notifications](https://www.electronjs.org//docs/latest/api/push-notifications) |
| `Main.safeStorage` | [https://www.electronjs.org//docs/latest/api/safe-storage](https://www.electronjs.org//docs/latest/api/safe-storage) |
| `Main.screen` | [https://www.electronjs.org//docs/latest/api/screen](https://www.electronjs.org//docs/latest/api/screen) |
| `Main.session` | [https://www.electronjs.org//docs/latest/api/session](https://www.electronjs.org//docs/latest/api/session) |
| `Main.ShareMenu` | [https://www.electronjs.org//docs/latest/api/share-menu](https://www.electronjs.org//docs/latest/api/share-menu) |
| `Main.shell` | [https://www.electronjs.org//docs/latest/api/shell](https://www.electronjs.org//docs/latest/api/shell) |
| `Main.systemPreferences` | [https://www.electronjs.org//docs/latest/api/system-preferences](https://www.electronjs.org//docs/latest/api/system-preferences) |
| `Main.TouchBar` | [https://www.electronjs.org//docs/latest/api/touch-bar](https://www.electronjs.org//docs/latest/api/touch-bar) |
| `Main.Tray` | [https://www.electronjs.org//docs/latest/api/tray](https://www.electronjs.org//docs/latest/api/tray) |
| `Main.utilityProcess` | [https://www.electronjs.org//docs/latest/api/utility-process](https://www.electronjs.org//docs/latest/api/utility-process) |
| `Main.webContents` | [https://www.electronjs.org//docs/latest/api/web-contents](https://www.electronjs.org//docs/latest/api/web-contents) |
| `Main.WebContentsView` | [https://www.electronjs.org//docs/latest/api/web-contents-view](https://www.electronjs.org//docs/latest/api/web-contents-view) |
| `Main.webFrameMain` | [https://www.electronjs.org//docs/latest/api/web-frame-main](https://www.electronjs.org//docs/latest/api/web-frame-main) |
| `Main.View` | [https://www.electronjs.org//docs/latest/api/view](https://www.electronjs.org//docs/latest/api/view) |

Nodeå¼€å§‹çš„è¯­æ³•ç³–ï¼Œä½†ä¸é™äºã€‚å®‰è£…çš„ç¬¬ä¸‰æ–¹åŒ…ä¹Ÿæ˜¯å¯ä»¥ç»„åˆä¸ºNodeè¯­æ³•ç³–çš„ã€‚

| **æ¨¡å—å (`NodeJS.æ¨¡å—å`)** | **å®˜æ–¹æ–‡æ¡£åœ°å€** |
| --- | --- |
| `NodeJS.fs` | [https://nodejs.org/api/fs.html](https://nodejs.org/api/fs.html) |
| `NodeJS.path` | [https://nodejs.org/api/path.html](https://nodejs.org/api/path.html) |
| `NodeJS.http` | [https://nodejs.org/api/http.html](https://nodejs.org/api/http.html) |
| `NodeJS.https` | [https://nodejs.org/api/https.html](https://nodejs.org/api/https.html) |
| `NodeJS.url` | [https://nodejs.org/api/url.html](https://nodejs.org/api/url.html) |
| `NodeJS.querystring` | [https://nodejs.org/api/querystring.html](https://nodejs.org/api/querystring.html) |
| `NodeJS.os` | [https://nodejs.org/api/os.html](https://nodejs.org/api/os.html) |
| `NodeJS.events` | [https://nodejs.org/api/events.html](https://nodejs.org/api/events.html) |
| `NodeJS.stream` | [https://nodejs.org/api/stream.html](https://nodejs.org/api/stream.html) |
| `NodeJS.crypto` | [https://nodejs.org/api/crypto.html](https://nodejs.org/api/crypto.html) |
| `NodeJS.zlib` | [https://nodejs.org/api/zlib.html](https://nodejs.org/api/zlib.html) |
| `NodeJS.util` | [https://nodejs.org/api/util.html](https://nodejs.org/api/util.html) |
| `NodeJS.child_process` | [https://nodejs.org/api/child_process.html](https://nodejs.org/api/child_process.html) |
| `NodeJS.cluster` | [https://nodejs.org/api/cluster.html](https://nodejs.org/api/cluster.html) |
| `NodeJS.dns` | [https://nodejs.org/api/dns.html](https://nodejs.org/api/dns.html) |
| `NodeJS.net` | [https://nodejs.org/api/net.html](https://nodejs.org/api/net.html) |
| `NodeJS.dgram` | [https://nodejs.org/api/dgram.html](https://nodejs.org/api/dgram.html) |
| `NodeJS.readline` | [https://nodejs.org/api/readline.html](https://nodejs.org/api/readline.html) |
| `NodeJS.repl` | [https://nodejs.org/api/repl.html](https://nodejs.org/api/repl.html) |
| `NodeJS.vm` | [https://nodejs.org/api/vm.html](https://nodejs.org/api/vm.html) |
| `NodeJS.assert` | [https://nodejs.org/api/assert.html](https://nodejs.org/api/assert.html) |
| `NodeJS.buffer` | [https://nodejs.org/api/buffer.html](https://nodejs.org/api/buffer.html) |
| `NodeJS.console` | [https://nodejs.org/api/console.html](https://nodejs.org/api/console.html) |
| `NodeJS.timers` | [https://nodejs.org/api/timers.html](https://nodejs.org/api/timers.html) |
| `NodeJS.perf_hooks` | [https://nodejs.org/api/perf_hooks.html](https://nodejs.org/api/perf_hooks.html) |
| `NodeJS.worker_threads` | [https://nodejs.org/api/worker_threads.html](https://nodejs.org/api/worker_threads.html) |